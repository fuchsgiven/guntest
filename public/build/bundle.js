var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function r(t){t.forEach(n)}function o(t){return"function"==typeof t}function i(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}let u,a;function c(t,n){return u||(u=document.createElement("a")),u.href=n,t===u.href}function f(t,n){t.appendChild(n)}function s(t,n,e){t.insertBefore(n,e||null)}function l(t){t.parentNode.removeChild(t)}function p(t){return document.createElement(t)}function h(t){return document.createTextNode(t)}function v(){return h(" ")}function g(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function d(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function y(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function _(t,n){t.value=null==n?"":n}function m(t){a=t}function b(){const t=function(){if(!a)throw new Error("Function called outside component initialization");return a}();return(n,e,{cancelable:r=!1}={})=>{const o=t.$$.callbacks[n];if(o){const i=function(t,n,{bubbles:e=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,e,r,n),o}(n,e,{cancelable:r});return o.slice().forEach((n=>{n.call(t,i)})),!i.defaultPrevented}return!0}}const w=[],k=[],x=[],S=[],A=Promise.resolve();let j=!1;function $(t){x.push(t)}const O=new Set;let T=0;function E(){const t=a;do{for(;T<w.length;){const t=w[T];T++,m(t),D(t.$$)}for(m(null),w.length=0,T=0;k.length;)k.pop()();for(let t=0;t<x.length;t+=1){const n=x[t];O.has(n)||(O.add(n),n())}x.length=0}while(w.length);for(;S.length;)S.pop()();j=!1,O.clear(),m(t)}function D(t){if(null!==t.fragment){t.update(),r(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach($)}}const C=new Set;let B;function N(){B={r:0,c:[],p:B}}function I(){B.r||r(B.c),B=B.p}function U(t,n){t&&t.i&&(C.delete(t),t.i(n))}function R(t,n,e,r){if(t&&t.o){if(C.has(t))return;C.add(t),B.c.push((()=>{C.delete(t),r&&(e&&t.d(1),r())})),t.o(n)}}function z(t,n){R(t,1,1,(()=>{n.delete(t.key)}))}function P(t){t&&t.c()}function G(t,e,i,u){const{fragment:a,on_mount:c,on_destroy:f,after_update:s}=t.$$;a&&a.m(e,i),u||$((()=>{const e=c.map(n).filter(o);f?f.push(...e):r(e),t.$$.on_mount=[]})),s.forEach($)}function L(t,n){const e=t.$$;null!==e.fragment&&(r(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function M(t,n){-1===t.$$.dirty[0]&&(w.push(t),j||(j=!0,A.then(E)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function W(n,o,i,u,c,f,s,p=[-1]){const h=a;m(n);const v=n.$$={fragment:null,ctx:null,props:f,update:t,not_equal:c,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(h?h.$$.context:[])),callbacks:e(),dirty:p,skip_bound:!1,root:o.target||h.$$.root};s&&s(v.root);let g=!1;if(v.ctx=i?i(n,o.props||{},((t,e,...r)=>{const o=r.length?r[0]:e;return v.ctx&&c(v.ctx[t],v.ctx[t]=o)&&(!v.skip_bound&&v.bound[t]&&v.bound[t](o),g&&M(n,t)),e})):[],v.update(),g=!0,r(v.before_update),v.fragment=!!u&&u(v.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);v.fragment&&v.fragment.l(t),t.forEach(l)}else v.fragment&&v.fragment.c();o.intro&&U(n.$$.fragment),G(n,o.target,o.anchor,o.customElement),E()}m(h)}class J{$destroy(){L(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function F(t){let n,e,r,o,i,u,a,_,m,b;return{c(){n=p("div"),e=p("img"),o=v(),i=p("p"),u=h(t[0]),a=v(),_=p("button"),_.textContent="Log Out",d(e,"class","user__img svelte-a10umd"),c(e.src,r=`https://avatars.dicebear.com/api/initials/${t[0]}.svg`)||d(e,"src",r),d(e,"alt",""),d(i,"class","user__name svelte-a10umd"),d(_,"class","btn svelte-a10umd"),d(n,"class","user svelte-a10umd")},m(r,c){s(r,n,c),f(n,e),f(n,o),f(n,i),f(i,u),f(n,a),f(n,_),m||(b=g(_,"click",t[1]),m=!0)},p(t,n){1&n&&!c(e.src,r=`https://avatars.dicebear.com/api/initials/${t[0]}.svg`)&&d(e,"src",r),1&n&&y(u,t[0])},d(t){t&&l(n),m=!1,b()}}}function K(n){let e,r,o,i=n[0]&&F(n);return{c(){e=p("nav"),r=p("h3"),r.textContent="MSD20 Chat",o=v(),i&&i.c(),d(r,"class","svelte-a10umd"),d(e,"class","svelte-a10umd")},m(t,n){s(t,e,n),f(e,r),f(e,o),i&&i.m(e,null)},p(t,[n]){t[0]?i?i.p(t,n):(i=F(t),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i:t,o:t,d(t){t&&l(e),i&&i.d()}}}function H(t,n,e){let{username:r}=n;const o=b();return t.$$set=t=>{"username"in t&&e(0,r=t.username)},[r,()=>{o("logout")}]}class q extends J{constructor(t){super(),W(this,t,H,K,i,{username:0})}}function V(n){let e,o,i,u,a,c,h,y,m,b,w,k,x,S;return{c(){e=p("div"),o=p("label"),o.textContent="Username",i=v(),u=p("input"),a=v(),c=p("label"),c.textContent="Password",h=v(),y=p("input"),m=v(),b=p("button"),b.textContent="Log In",w=v(),k=p("button"),k.textContent="Sign Up",d(o,"for","username"),d(u,"name","username"),d(u,"id","username"),d(u,"type","text"),d(u,"class","svelte-2tna7c"),d(c,"for","password"),d(y,"name","password"),d(y,"id","password"),d(y,"type","password"),d(y,"class","svelte-2tna7c"),d(b,"class","btn svelte-2tna7c"),d(k,"class","btn svelte-2tna7c"),d(e,"id","login"),d(e,"class","svelte-2tna7c")},m(t,r){s(t,e,r),f(e,o),f(e,i),f(e,u),_(u,n[0]),f(e,a),f(e,c),f(e,h),f(e,y),_(y,n[1]),f(e,m),f(e,b),f(e,w),f(e,k),x||(S=[g(u,"input",n[5]),g(y,"input",n[6]),g(b,"click",n[2]),g(k,"click",n[3])],x=!0)},p(t,[n]){1&n&&u.value!==t[0]&&_(u,t[0]),2&n&&y.value!==t[1]&&_(y,t[1])},i:t,o:t,d(t){t&&l(e),x=!1,r(S)}}}function Z(t,n,e){let r,o,{user:i}=n;const u=()=>{i.auth(r,o,(({err:t})=>t&&alert(t)))};return t.$$set=t=>{"user"in t&&e(4,i=t.user)},[r,o,u,()=>{i.create(r,o,(({err:t})=>{t?(console.log(t),alert(t)):u()}))},i,function(){r=this.value,e(0,r)},function(){o=this.value,e(1,o)}]}class Y extends J{constructor(t){super(),W(this,t,Z,V,i,{user:4})}}function Q(n){let e,r,o,i,u,a,g,_,m,b,w,k,x,S=n[0].author+"",A=new Date(n[0].time).toLocaleString()+"",j=n[0].text+"";return{c(){var t;e=p("div"),r=p("div"),o=p("img"),u=v(),a=p("p"),g=h(S),_=v(),m=p("p"),b=h(A),w=v(),k=p("p"),x=h(j),d(o,"class","message-img svelte-wxfzvd"),c(o.src,i=`https://avatars.dicebear.com/api/initials/${n[0].author}.svg`)||d(o,"src",i),d(o,"alt",""),d(a,"class","message-author svelte-wxfzvd"),d(m,"class","message-time svelte-wxfzvd"),d(r,"class","message svelte-wxfzvd"),d(e,"class",(null==(t=`message-container ${n[1]}`)?"":t)+" svelte-wxfzvd")},m(t,n){s(t,e,n),f(e,r),f(r,o),f(r,u),f(r,a),f(a,g),f(r,_),f(r,m),f(m,b),f(e,w),f(e,k),f(k,x)},p(t,[n]){1&n&&!c(o.src,i=`https://avatars.dicebear.com/api/initials/${t[0].author}.svg`)&&d(o,"src",i),1&n&&S!==(S=t[0].author+"")&&y(g,S),1&n&&A!==(A=new Date(t[0].time).toLocaleString()+"")&&y(b,A),1&n&&j!==(j=t[0].text+"")&&y(x,j)},i:t,o:t,d(t){t&&l(e)}}}function X(t,n,e){let{message:r}=n,{username:o}=n;const i=o===r.author?"sent":"received";return t.$$set=t=>{"message"in t&&e(0,r=t.message),"username"in t&&e(2,o=t.username)},[r,i,o]}class tt extends J{constructor(t){super(),W(this,t,X,Q,i,{message:0,username:2})}}var nt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function et(t){var n={exports:{}};return t(n,n.exports),n.exports}function rt(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets option of @rollup/plugin-commonjs appropriately for this require call to behave properly.')}var ot=et((function(t){!function(){function n(t,e){return e?rt(t):t.slice?n[r(t)]:function(e,o){t(e={exports:{}}),n[r(o)]=e.exports};function r(t){return t.split("/").slice(-1).toString().replace(".js","")}}var e=t;n((function(t){String.random=function(t,n){var e="";for(t=t||24,n=n||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz";t-- >0;)e+=n.charAt(Math.floor(Math.random()*n.length));return e},String.match=function(t,n){var e,r;return"string"==typeof t&&("string"==typeof n&&(n={"=":n}),t===(e=(n=n||{})["="]||n["*"]||n[">"]||n["<"])||r===n["="]&&(e=n["*"]||n[">"],t.slice(0,(e||"").length)===e||r===n["*"]&&(r!==n[">"]&&r!==n["<"]?t>=n[">"]&&t<=n["<"]:r!==n[">"]&&t>=n[">"]||r!==n["<"]&&t<=n["<"])))},String.hash=function(t,n){if("string"==typeof t){if(n=n||0,!t.length)return n;for(var e=0,r=t.length;e<r;++e)n=(n<<5)-n+t.charCodeAt(e),n|=0;return n}};var n,e,r,o,i=Object.prototype.hasOwnProperty;Object.plain=function(t){return!!t&&(t instanceof Object&&t.constructor===Object||"Object"===Object.prototype.toString.call(t).match(/^\[object (\w+)\]$/)[1])},Object.empty=function(t,n){for(var e in t)if(i.call(t,e)&&(!n||-1==n.indexOf(e)))return!1;return!0},Object.keys=Object.keys||function(t){var n=[];for(var e in t)i.call(t,e)&&n.push(e);return n},n=setTimeout,e=0,r=0,o=typeof setImmediate!=""+void 0&&setImmediate||n,n.hold=n.hold||9,n.poll=n.poll||function(t){n.hold>=+new Date-e&&r++<3333?t():o((function(){e=+new Date,t()}),r=0)},function(){var t,n=setTimeout,e=n.turn=n.turn||function(t){1==r.push(t)&&o(u)},r=e.s=[],o=n.poll,i=0,u=function(){(t=r[i++])&&t(),i!=r.length&&99!=i||(r=e.s=r.slice(i),i=0),r.length&&o(u)}}(),function(){var t,n=setTimeout,e=n.turn;(n.each=n.each||function(n,r,o,i){i=i||9,function u(a,c,f){if(c=(a=(n||[]).splice(0,i)).length){for(var s=0;s<c&&t===(f=r(a[s]));s++);if(t===f)return void e(u)}o&&o(f)}()})()}()}))(n,"./shim"),n((function(t){t.exports=function t(n,e,r){if(!n)return{to:t};var o="function"==typeof e;n=(this.tag||(this.tag={}))[n]||o&&(this.tag[n]={tag:n,to:t._={next:function(t){var n;(n=this.to)&&n.next(t)}}});if(o){var i={off:t.off||(t.off=function(){if(this.next===t._.next)return!0;this===this.the.last&&(this.the.last=this.back),this.to.back=this.back,this.next=t._.next,this.back.to=this.to,this.the.last===this.the&&delete this.on.tag[this.the.tag]}),to:t._,next:e,the:n,on:this,as:r};return(i.back=n.last||n).to=i,n.last=i}return(n=n.to)&&undefined!==e&&n.next(e),n}}))(n,"./onto"),n((function(t){t.exports=function(t){return null===t||"string"==typeof t||"boolean"==typeof t||"number"==typeof t&&t!=1/0&&t!=-1/0&&t==t||!!t&&"string"==typeof t["#"]&&1===Object.keys(t).length&&t["#"]}}))(n,"./valid"),n((function(t){function e(){var t=+new Date;return a<t?(i=0,a=t+e.drift):a=t+(i+=1)/u+e.drift}n("./shim"),e.drift=0;var r,o=-1/0,i=0,u=999,a=o;e.is=function(t,n,e){var r=n&&t&&t._&&t._[">"]||e;if(r)return"number"==typeof(r=r[n])?r:o},e.ify=function(t,n,e,o,i){(t=t||{})._=t._||{},i&&(t._["#"]=i);var u=t._[">"]||(t._[">"]={});return r!==n&&"_"!==n&&("number"==typeof e&&(u[n]=e),r!==o&&(t[n]=o)),t},t.exports=e}))(n,"./state"),n((function(t){n("./shim"),t.exports=function(t){var n={s:{}},e=n.s;t=t||{max:999,age:9e3},n.check=function(t){return!!e[t]&&r(t)};var r=n.track=function(r){var o=e[r]||(e[r]={});return o.was=n.now=+new Date,n.to||(n.to=setTimeout(n.drop,t.age+9)),o};return n.drop=function(r){n.to=null,n.now=+new Date;var o=Object.keys(e);console.STAT&&console.STAT(n.now,+new Date-n.now,"dup drop keys"),setTimeout.each(o,(function(o){var i=e[o];i&&(r||t.age)>n.now-i.was||delete e[o]}),0,99)},n}}))(n,"./dup"),n((function(t){n("./onto"),t.exports=function(t,n){if(this.on){var r=(this.opt||{}).lack||9e3;if("function"!=typeof t){if(!t)return;var o=t["#"]||t,i=(this.tag||"")[o];if(!i)return;return n&&(i=this.on(o,n),clearTimeout(i.err),i.err=setTimeout((function(){i.off()}),r)),!0}o=n&&n["#"]||e(9);if(!t)return o;var u=this.on(o,t,n);return u.err=u.err||setTimeout((function(){u.off(),u.next({err:"Error: No ACK yet.",lack:!0})}),r),o}};var e=String.random||function(){return Math.random().toString(36).slice(2)}}))(n,"./ask"),n((function(t){function r(t){return t instanceof r?(this._={$:this}).$:this instanceof r?r.create(this._={$:this,opt:t}):new r(t)}r.is=function(t){return t instanceof r||t&&t._&&t===t._.$||!1},r.version=.202,r.chain=r.prototype,r.chain.toJSON=function(){},n("./shim"),r.valid=n("./valid"),r.state=n("./state"),r.on=n("./onto"),r.dup=n("./dup"),r.ask=n("./ask"),function(){function t(e){if(e)if(e.out!==t){var o,i=this.as,c=i.at||i,f=c.$,s=c.dup,l=e.DBG;if((o=e["#"])||(o=e["#"]=a(9)),!s.check(o)){if(s.track(o),o=e._,e._="function"==typeof o?o:function(){},e.$&&e.$===(e.$._||"").$||(e.$=f),e["@"]&&!e.put&&function(t){var n,e=t["@"]||"";if(!(n=e._))return;n.acks=(n.acks||0)+1,(n.err=t.err)&&(t["@"]=n["#"],u(n));n.stop||n.crack||(n.crack=n.match&&n.match.push((function(){h(n)})));h(n)}(e),!c.ask(e["@"],e)){if(l&&(l.u=+new Date),e.put)return void n(e);e.get&&r.on.get(e,f)}l&&(l.uc=+new Date),this.to.next(e),l&&(l.ua=+new Date),e.nts||e.NTS||(e.out=t,c.on("out",e),l&&(l.ue=+new Date))}}else this.to.next(e)}function n(n){if(n){var r=n._||"",i=r.root=((r.$=n.$||"")._||"").root;if(n["@"]&&r.faith&&!r.miss)return n.out=t,void i.on("out",n);r.latch=i.hatch,r.match=i.hatch=[];var a=n.put,s=r.DBG=n.DBG,l=+new Date;if(v=v||l,!a["#"]||!a["."]){s&&(s.p=l),r["#"]=n["#"],r.msg=n,r.all=0,r.stun=1;var p=Object.keys(a);console.STAT&&console.STAT(l,((s||r).pk=+new Date)-l,"put sort");var h,y,_,m,w,k,x,S=0;!function t(i){if(h!=S){if(h=S,!(_=p[S]))return console.STAT&&console.STAT(l,((s||r).pd=+new Date)-l,"put"),void u(r);(m=a[_])?(x=m._)?_!==x["#"]?k=g+d(_)+"soul not same.":(w=x[">"])||(k=g+d(_)+"no state."):k=g+d(_)+"no meta.":k=g+d(_)+"no node.",y=Object.keys(m||{})}if(k)return n.err=r.err=k,void u(r);var v,A=0;for(i=i||0;i++<9&&(v=y[A++]);)if("_"!==v){var j=m[v],$=w[v];if(o===$){k=g+d(v)+"on"+d(_)+"no state.";break}if(!f(j)){k=g+d(v)+"on"+d(_)+"bad "+typeof j+d(j);break}e(j,v,_,$,n),++b}(y=y.slice(A)).length?c(t):(++S,y=null,t(i))}()}}}function e(t,n,r,o,i){var u,a=i._||"",c=a.root,f=c.graph,l=f[r]||p,h=s(l,n,1),v=l[n],g=a.DBG;(u=console.STAT)&&(f[r]&&v||(u.has=(u.has||0)+1));var d=m();if(o>d)return setTimeout((function(){e(t,n,r,o,i)}),(u=o-d)>_?_:u),void(console.STAT&&console.STAT((g||a).Hf=+new Date,u,"future"));if((!(o<h)||a.miss)&&(a.faith||o!==h||!(t===v||y(t)<=y(v))||a.miss)){a.stun++;var b=i["#"]+a.all++,w={toString:function(){return b},_:a};w.toJSON=w.toString,g&&(g.ph=g.ph||+new Date),c.on("put",{"#":w,"@":i["@"],put:{"#":r,".":n,":":t,">":o},_:a})}}function i(t){var n;(n=(t._||"").DBG)&&(n.pa=+new Date,n.pm=n.pm||+new Date);var e,r=this.as,o=r.graph,i=t._,a=t.put,c=a["#"],f=a["."],s=a[":"],p=a[">"];t["#"],(e=i.msg)&&(e=e.put)&&(e=e[c])&&l(e,f,p,s,c),o[c]=l(o[c],f,p,s,c),(e=(r.next||"")[c])&&e.on("in",t),u(i),this.to.next(t)}function u(n,e){var r;if(!n.stop&&(n.err||!(0<--n.stun))&&(n.stop=1,r=n.root)){var o=n.match;o.end=1,o===r.hatch&&(!(o=n.latch)||o.end?delete r.hatch:r.hatch=o),n.hatch&&n.hatch(),setTimeout.each(n.match,(function(t){t&&t()})),!(e=n.msg)||n.err||e.err||(e.out=t,n.root.on("out",e),w())}}function h(t){t&&t.root&&(t.stun||t.acks!==t.all||t.root.on("in",{"@":t["#"],err:t.err,ok:t.err?o:{"":1}}))}r.create=function(n){n.root=n.root||n,n.graph=n.graph||{},n.on=n.on||r.on,n.ask=n.ask||r.ask,n.dup=n.dup||r.dup();var e=n.$.opt(n.opt);return n.once||(n.on("in",t,n),n.on("out",t,n),n.on("put",i,n),r.on("create",n),n.on("create",n)),n.once=1,e},r.on.put=n;var v,g="Error: Invalid graph!",d=function(t){return" '"+(""+t).slice(0,9)+"...' "},y=JSON.stringify,_=2147483647,m=r.state,b=0,w=function(){b>999&&b/-(v-(v=+new Date))>1&&(r.window&&console.log("Warning: You're syncing 1K+ records a second, faster than DOM can update - consider limiting query."),w=function(){b=0})}}(),function(){function t(t,n){var e=+new Date,r=t._||{},i=r.DBG=t.DBG,u=t["#"],c=a(9),f=Object.keys(n||"").sort(),p=((n||"")._||"")["#"];f.length;var h=t.$._.root,v=n===h.graph[p];console.STAT&&console.STAT(e,((i||r).gk=+new Date)-e,"got keys"),n&&function t(){e=+new Date;for(var r,g,d,y=0,_={};y<9&&(r=f[y++]);)l(_,r,s(n,r),n[r],p);f=f.slice(y),(g={})[p]=_,_=g,v&&((d=function(){}).ram=d.faith=!0),g=f.length,console.STAT&&console.STAT(e,-(e-(e=+new Date)),"got copied some"),i&&(i.ga=+new Date),h.on("in",{"@":u,"#":c,put:_,"%":g?c=a(9):o,$:h.$,_:d,DBG:i}),console.STAT&&console.STAT(e,+new Date-e,"got in"),g&&setTimeout.turn(t)}(),n||h.on("in",{"@":t["#"]})}r.on.get=function(n,e){var r=e._,i=n.get,u=i["#"],a=r.graph[u],c=i["."];(r.next||(r.next={}))[u];var f=(n._||{}).DBG=n.DBG;if(f&&(f.g=+new Date),!a)return r.on("get",n);if(c){if("string"!=typeof c||o===a[c])return r.on("get",n);a=l({},c,s(a,c),a[c],u)}a&&t(n,a),r.on("get",n)},r.on.get.ack=t}(),r.chain.opt=function(t){t=t||{};var n=this._,e=t.peers||t;return Object.plain(t)||(t={}),Object.plain(n.opt)||(n.opt=t),"string"==typeof e&&(e=[e]),Object.plain(n.opt.peers)||(n.opt.peers={}),e instanceof Array&&(t.peers={},e.forEach((function(e){var r={};r.id=r.url=e,t.peers[e]=n.opt.peers[e]=n.opt.peers[e]||r}))),u(t,(function t(n){var e=this[n];this&&this.hasOwnProperty(n)||"string"==typeof e||Object.empty(e)?this[n]=e:(!e||e.constructor===Object||e instanceof Array)&&u(e,t)})),n.opt.from=t,r.on("opt",n),n.opt.uuid=n.opt.uuid||function(t){return r.state().toString(36).replace(".","")+String.random(t||12)},this};var o,i,u=function(t,n){Object.keys(t).forEach(n,t)},a=String.random,c=setTimeout.turn,f=r.valid,s=r.state.is,l=r.state.ify,p={};r.log=function(){return!r.log.off&&i.log.apply(i,arguments),[].slice.call(arguments).join(" ")},r.log.once=function(t,n,e){return(e=r.log.once)[t]=e[t]||0,e[t]++||r.log(n)},"undefined"!=typeof window&&((window.GUN=window.Gun=r).window=window);try{void 0!==e&&(e.exports=r)}catch(t){}t.exports=r,(r.window||{}).console=(r.window||{}).console||{log:function(){}},(i=console).only=function(t,n){return i.only.i&&t===i.only.i&&i.only.i++&&(i.log.apply(i,arguments)||n)},r.log.once("welcome","Hello wonderful person! :) Thanks for using GUN, please ask for help on http://chat.gun.eco if anything takes you longer than 5min to figure out!")}))(n,"./root"),n((function(t){n("./root").chain.back=function(t,n){if(-1===(t=t||1)||1/0===t)return this._.root.$;if(1===t)return(this._.back||this._).$;var o=this._;if("string"==typeof t&&(t=t.split(".")),t instanceof Array){for(var i=0,u=t.length,a=o;i<u;i++)a=(a||r)[t[i]];return e!==a?n?this:a:(a=o.back)?a.$.back(t,n):void 0}if("function"==typeof t){var c;for(a={back:o};(a=a.back)&&e===(c=t(a,n)););return c}return"number"==typeof t?(o.back||o).$.back(t-1):this};var e,r={}}))(n,"./back"),n((function(t){var e=n("./root");function r(t,n){if(n=n||this.as||t.$._,(!t.$$||this===e.on)&&t.put&&!n.soul){var r=t.put||"",o=r["="]||r[":"],i=n.root,u=i.$.get(r["#"]).get(r["."])._;if("string"==typeof(o=f(o))){if(!(u.echo||(u.echo={}))[n.id]||(i.pass||"")[n.id]){if(a=i.pass){if(a[o+n.id])return;a[o+n.id]=1}(u.echo||(u.echo={}))[n.id]=n,n.has&&(n.link=o);var a,c=i.$.get(u.link=o)._;(c.echo||(c.echo={}))[u.id]=u,((a=n.ask||"")[""]||n.lex)&&c.on("out",{get:{"#":o}}),setTimeout.each(Object.keys(a),(function(t,n){t&&(n=a[t])&&n.on("out",{get:{"#":o,".":t}})}),0,99)}}else this===e.on&&((u.echo||(u.echo={}))[n.id]=n)}}function o(t,n){var e,r,i=t.put||"",a=u!==i["="]?i["="]:i[":"],c=n.root;if(u===a){if(n.soul&&u!==n.put)return;if(r=(t.$$||t.$||"")._||"",t["@"]&&(u!==r.put||u!==n.put))return;return(e=n.link||t.linked)&&delete(c.$.get(e)._.echo||"")[n.id],n.has&&(n.link=null),n.put=u,void setTimeout.each(Object.keys(n.next||""),(function(t,r){(r=n.next[t])&&(e&&delete(c.$.get(e).get(t)._.echo||"")[r.id],r.on("in",{get:t,put:u,$:r.$}))}),0,99)}n.soul||t.$$||(e=f(a),r=t.$._||"",(e!==r.link&&(!n.has||r.link)||(c.pass||"")[n.id]&&"string"!=typeof e)&&(delete(r.echo||"")[n.id],o({get:n.get,put:u,$:t.$,linked:t.linked=t.linked||r.link},n)))}function i(t,n){var r=this.as,o=r.$._;o.root;var i=r.get||"",a=(t.put||"")[i["#"]]||"";if(!t.put||"string"==typeof i["."]&&u===a[i["."]]){if(u!==o.put)return;if(!o.soul&&!o.has)return;return o.ack=(o.ack||0)+1,void o.on("in",{get:o.get,put:o.put=u,$:o.$,"@":t["@"]})}(t._||{}).miss=1,e.on.put(t)}e.chain.chain=function(t){var n,r=this,o=r._,i=new(t||r).constructor(r),u=i._;return u.root=n=o.root,u.id=++n.once,u.back=r._,u.on=e.on,u.on("in",e.on.in,u),u.on("out",e.on.out,u),i},e.on.out=function(t){var n,e,r=this.as,o=r.back,a=r.root;if(t.$||(t.$=r.$),this.to.next(t),!r.err){if(n=t.get){if(a.pass&&(a.pass[r.id]=r),r.lex&&Object.keys(r.lex).forEach((function(t){e[t]=r.lex[t]}),e=t.get=t.get||{}),n["#"]||r.soul){if(n["#"]=n["#"]||r.soul,t["#"]||(t["#"]=c(9)),o=a.$.get(n["#"])._,n=n["."]){if(s(o.put,n)&&(e=o.ask&&o.ask[n],(o.ask||(o.ask={}))[n]=o.$.get(n)._,o.on("in",{get:n,put:{"#":o.soul,".":n,":":o.put[n],">":p(a.graph[o.soul],n)}}),e))return}else{if(e=o.ask&&o.ask[""],(o.ask||(o.ask={}))[""]=o,u!==o.put&&(o.on("in",o),e))return;t.$=o.$}return a.ask(i,t),a.on("in",t)}if(n["."])return r.get?(t={get:{".":r.get},$:r.$},(o.ask||(o.ask={}))[r.get]=t.$._,o.on("out",t)):(t={get:r.lex?t.get:{},$:r.$},o.on("out",t));if((r.ask||(r.ask={}))[""]=r,r.get)return n["."]=r.get,(o.ask||(o.ask={}))[r.get]=t.$._,o.on("out",t)}return o.on("out",t)}r.on("in",{put:r.put=u,$:r.$})},e.on.in=function(t,n){var e,i=(n=n||this.as).root,c=t.$||(t.$=n.$),s=(c||"")._||a,l=t.put||"",v=l["#"],g=l["."],d=u!==l["="]?l["="]:l[":"],y=l[">"]||-1/0;if(u!==t.put&&(u===l["#"]||u===l["."]||u===l[":"]&&u===l["="]||u===l[">"]))return f(l)?void n.on("in",{$:s.back.$,put:{"#":v=s.back.soul,".":g=s.has||s.get,"=":l,">":p(s.back.put,g)},via:t}):(v=((l||"")._||"")["#"])?(c=n.root.$.get(v),setTimeout.each(Object.keys(l).sort(),(function(e){"_"!=e&&u!==(y=p(l,e))&&n.on("in",{$:c,put:{"#":v,".":e,"=":l[e],">":y},VIA:t})}))):void console.log("chain not yet supported for",l,"...",t,n);(t.seen||"")[n.id]||((t.seen||(t.seen=function(){}))[n.id]=n,n!==s&&(Object.keys(t).forEach((function(n){l[n]=t[n]}),l={}),l.get=n.get||l.get,n.soul||n.has?s.soul&&(l.$=n.$,l.$$=l.$$||s.$):l.$$$=l.$$$||n.$,t=l),o(t,n),(n.soul||t.$$)&&y>=p(i.graph[v],g)&&((l=i.$.get(v)._).put=h(l.put,g,y,d,v)),!s.soul&&y>=p(i.graph[v],g)&&(e=(i.$.get(v)._.next||"")[g])&&(e.put=d,"string"==typeof(l=f(d))&&(e.put=i.$.get(l)._.put||d)),this.to&&this.to.next(t),n.any&&setTimeout.each(Object.keys(n.any),(function(e){(e=n.any[e])&&e(t)}),0,99),n.echo&&setTimeout.each(Object.keys(n.echo),(function(e){(e=n.echo[e])&&e.on("in",t)}),0,99),((t.$$||"")._||s).soul&&(e=n.next)&&(e=e[g])&&(l={},Object.keys(t).forEach((function(n){l[n]=t[n]})),l.$=(t.$$||t.$).get(l.get=g),delete l.$$,delete l.$$$,e.on("in",l)),r(t,n))},e.on.link=r,e.on.unlink=o;var u,a={},c=String.random,f=e.valid,s=function(t,n){return t&&Object.prototype.hasOwnProperty.call(t,n)},l=e.state,p=l.is,h=l.ify}))(n,"./chain"),n((function(t){var e=n("./root");function r(t){var n=this.at||this.on;if(!t||n.soul||n.has)return this.off();if(t=(t=(t=t.$||t)._||t).id){var e;if(n.map,(e=this.seen||(this.seen={}))[t])return!0;e[t]=!0}}e.chain.get=function(t,n,a){var c,f;if("string"==typeof t){if(0==t.length)return(c=this.chain())._.err={err:e.log("0 length key!",t)},n&&n.call(c,c._.err),c;(c=((l=this._).next||i)[t])||(c=t&&function(t,n){var e=n._,r=e.next,o=n.chain()._;r||(r=e.next={});r[o.get=t]=o,n===e.root.$?o.soul=t:(e.soul||e.has)&&(o.has=t);return o}(t,this)),c=c&&c.$}else{if("function"==typeof t){if(!0===n)return function(t,n,r,i){var u,a=t._,c=0;if(u=a.soul||a.link)return n(u,i,a);if(a.jam)return a.jam.push([n,i]);a.jam=[[n,i]],t.get((function(t,n){if(!(o===t.put&&!a.root.opt.super&&(u=Object.keys(a.root.opt.peers).length)&&++c<=u)){n.rid(t);var r,i=(i=t.$)&&i._||{},f=0;for(u=a.jam,delete a.jam;r=u[f++];){var s=r[0];r=r[1],s&&s(i.link||i.soul||e.valid(t.put)||((t.put||{})._||{})["#"],r,t,n)}}}),{out:{get:{".":!0}}})}(this,t,0,a),this;var s,l=(c=this)._,p=n||{},h=l.root;p.at=l,p.ok=t;var v={};function g(t,n,r){if(!g.stun&&(!(i=h.pass)||i[s])){var i,u=t.$._,a=(t.$$||"")._,c=(a||u).put,f=!u.has&&!u.soul,d={};if((f||o===c)&&(c=o===((i=t.put)||"")["="]?o===(i||"")[":"]?i:i[":"]:i["="]),"string"==typeof(i=e.valid(c))&&(c=o===(i=h.$.get(i)._.put)?p.not?o:c:i),!p.not||o!==c){if(o===p.stun){if((i=h.stun)&&i.on&&(l.$.back((function(t){if(i.on(""+t.id,d={}),(d.run||0)<g.id)return d})),!d.run&&i.on(""+u.id,d={}),!d.run&&a&&i.on(""+a.id,d={}),g.id>d.run&&(d.stun&&!d.stun.end||(d.stun=i.on("stun"),d.stun=d.stun&&d.stun.last),d.stun&&!d.stun.end)))return void((d.stun.add||(d.stun.add={}))[s]=function(){g(t,n,1)});if(o===c&&(r=0),(i=h.hatch)&&!i.end&&o===p.hatch&&!r){if(v[u.$._.id])return;return v[u.$._.id]=1,void i.push((function(){g(t,n,1)}))}v={}}if(h.pass){if(h.pass[s+u.id])return;h.pass[s+u.id]=1}p.on?p.ok.call(u.$,c,u.get,t,n||g):p.v2020?p.ok(t,n||g):(Object.keys(t).forEach((function(n){i[n]=t[n]}),i={}),(t=i).put=c,p.ok.call(p.as,t,n||g))}}}return g.at=l,(l.any||(l.any={}))[s=String.random(7)]=g,g.off=function(){g.stun=1,l.any&&delete l.any[s]},g.rid=r,g.id=p.run||++h.once,f=h.pass,(h.pass={})[s]=1,p.out=p.out||{get:{}},l.on("out",p.out),h.pass=f,c}if("number"==typeof t)return this.get(""+t,n,a);if("string"==typeof(f=u(t)))return this.get(f,n,a);(f=this.get.next)&&(c=f(this,t))}return c?(n&&"function"==typeof n&&c.get(n,a),c):((c=this.chain())._.err={err:e.log("Invalid get request!",t)},n&&n.call(c,c._.err),c)};var o,i={},u=e.valid}))(n,"./get"),n((function(t){var e=n("./root");function r(t,n){if(n){n=(n._||"").id||n;var r,o=t.root.stun||(t.root.stun={on:e.on}),i={};t.stun||(t.stun=o.on("stun",(function(){}))),(r=o.on(""+n))&&r.the.last.next(i),i.run>=t.run||o.on(""+n,(function(n){if(t.stun.end)return this.off(),void this.to.next(n);n.run=n.run||t.run,n.stun=n.stun||t.stun}))}}function o(t){if(t.err)o.end(t.stun,t.root);else if(!t.todo.length&&!t.end&&Object.empty(t.wait)){t.end=1;var n,r=t.$.back(-1)._,i=r.root,u=r.ask((function(n){i.on("ack",n),n.err&&e.log(n),++a>(t.acks||0)&&this.off(),t.ack&&t.ack(n,this)}),t.opt),a=0,c=t.stun;(n=function(){c&&(o.end(c,i),setTimeout.each(Object.keys(c=c.add||""),(function(t){(t=c[t])&&t()})))}).hatch=n,t.via._.on("out",{put:t.out=t.graph,opt:t.opt,"#":u,_:n})}}e.chain.put=function(t,n,u){var s=this,l=s._,p=l.root;(u=u||{}).root=l.root,u.run||(u.run=p.once),r(u,l.id),u.ack=u.ack||n,u.via=u.via||s,u.data=u.data||t,u.soul||(u.soul=l.soul||"string"==typeof n&&n);var h=u.state=u.state||e.state();return"function"==typeof t?(t((function(t){u.data=t,s.put(i,i,u)})),s):u.soul?(u.$=p.$.get(u.soul),u.todo=[{it:u.data,ref:u.$}],u.turn=u.turn||a,u.ran=u.ran||o,function t(){var n,i,a,s,l,p=u.todo,v=p.pop(),g=v.it;if(v.ref&&v.ref._.id,r(u,v.ref),(s=v.todo)&&(g=g[i=s.pop()],s.length&&p.push(v)),i&&(p.path||(p.path=[])).push(i),!(n=c(g))&&!(l=e.is(g))){if(!Object.plain(g))return void o.err(u,"Invalid data: "+function(t,n){return t&&(n=t.constructor)&&n.name||typeof t}(g)+" at "+(u.via.back((function(t){t.get&&s.push(t.get)}),s=[])||s.join("."))+"."+(p.path||[]).join("."));for(var d=u.seen||(u.seen=[]),y=d.length;y--;)if(g===(s=d[y]).it){n=g=s.link;break}}if(i&&n)v.node=f(v.node,i,h,g);else{if(!u.seen)return void o.err(u,"Data at root of graph must be a node (an object).");u.seen.push(a={it:g,link:{},todo:l?[]:Object.keys(g).sort().reverse(),path:(p.path||[]).slice(),up:v}),v.node=f(v.node,i,h,a.link),!l&&a.todo.length&&p.push(a);var _=u.seen.length;function m(t,n){var e=a.link["#"];n&&(n.off(),n.rid(t));var o=e||t.soul||(s=(t.$$||t.$)._||"").soul||s.link||((s=s.put||"")._||"")["#"]||s["#"]||((s=t.put||"")&&t.$$?s["#"]:(s["="]||s[":"]||"")["#"]);!e&&r(u,t.$),o||v.link["#"]?(o||(o=[],(t.$$||t.$).back((function(t){if(s=t.soul||t.link)return o.push(s);o.push(t.get)})),o=o.reverse().join("/")),a.link["#"]=o,!l&&(((u.graph||(u.graph={}))[o]=a.node||(a.node={_:{}}))._["#"]=o),delete u.wait[_],a.wait&&setTimeout.each(a.wait,(function(t){t&&t()})),u.ran(u)):(v.wait||(v.wait=[])).push((function(){m(t,n)}))}(u.wait||(u.wait={}))[_]="",s=(a.ref=l?g:i?v.ref.get(i):v.ref)._,(s=g&&(g._||"")["#"]||s.soul||s.link)?m({soul:s}):a.ref.get(m,{run:u.run,v2020:1,out:{get:{".":" "}}})}if(!p.length)return u.ran(u);u.turn(t)}(),s):(function(t){var n,e=t.via._;t.via=t.via.back((function(e){if(e.soul||!e.get)return e.$;n=t.data,(t.data={})[e.get]=n})),t.via&&t.via._.soul||(t.via=e.root.$.get(((t.data||"")._||"")["#"]||e.$.back("opt.uuid")()));t.via.put(t.data,t.ack,t)}(u),s)},o.end=function(t,n){t.end=u,t.the.to===t&&t===t.the.last&&delete n.stun,t.off()},o.err=function(t,n){(t.ack||u).call(t,t.out={err:t.err=e.log(n)}),t.ran(t)};var i,u=function(){},a=setTimeout.turn,c=e.valid,f=e.state.ify}))(n,"./put"),n((function(t){var e=n("./root");n("./chain"),n("./back"),n("./put"),n("./get"),t.exports=e}))(n,"./index"),n((function(t){var e,r=n("./index");r.chain.on=function(t,n,e,r){var o,i=this,u=i._;if(u.root,"string"==typeof t)return n?(o=u.on(t,n,e||u,r),e&&e.$&&(e.subs||(e.subs=[])).push(o),i):u.on(t);var a=n;return(a=!0===a?{change:!0}:a||{}).not=1,a.on=1,i.get(t,a),i},r.chain.once=function(t,n){if(n=n||{},!t)return function(t,n,e){return r.log.once("valonce","Chainable val is experimental, its behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it."),(e=t.chain())._.nix=t.once((function(t,n){e._.on("in",this._)})),e._.lex=t._.lex,e}(this);var o=this,i=o._,u=i.root;i.put;var a,c=String.random(7);return o.get((function(o,f,s,l){var p=this,h=p._,v=h.one||(h.one={});function g(d){h.has||h.soul||(h={put:o,get:f}),e===(a=h.put)&&(a=((s.$$||"")._||"").put),"string"!=typeof r.valid(a)||(a=u.$.get(a)._.put)!==e||d?l.stun||""!==v[c]&&(v[c]="",(i.soul||i.has)&&l.off(),t.call(p,a,h.get),clearTimeout(v[c])):v[c]=setTimeout((function(){g(1)}),n.wait||99)}l.stun||""!==v[c]&&(!0!==(a=r.valid(o))?"string"!=typeof a&&(clearTimeout((i.one||"")[c]),clearTimeout(v[c]),v[c]=setTimeout(g,n.wait||99)):g())}),{on:1}),o},r.chain.off=function(){var t,n=this._,e=n.back;if(e)return n.ack=0,(t=e.next)&&t[n.get]&&delete t[n.get],(t=e.ask)&&delete t[n.get],(t=e.put)&&delete t[n.get],(t=n.soul)&&delete e.root.graph[t],(t=n.map)&&Object.keys(t).forEach((function(n,r){(r=t[n]).link&&e.root.$.get(r.link).off()})),(t=n.next)&&Object.keys(t).forEach((function(n,e){t[n].$.off()})),n.on("off",{}),this}}))(n,"./on"),n((function(t){var e=n("./index"),r=e.chain.get.next;function o(t){this.to.next(t);var n,r=this.as,o=t.$._,i=t.put;(o.soul||t.$$)&&((n=r.lex)&&!String.match(t.get||(i||"")["."],n["."]||n["#"]||n)||e.on.link(t,r))}e.chain.get.next=function(t,n){var e;return Object.plain(n)?(e=((e=n["#"])||"")["="]||e)?t.get(e):((e=t.chain()._).lex=n,t.on("in",(function(t){String.match(t.get||(t.put||"")["."],n["."]||n["#"]||n)&&e.on("in",t),this.to.next(t)})),e.$):(r||u)(t,n)},e.chain.map=function(t,n,r){var a,c,f=this,s=f._;return Object.plain(t)&&(a=t["."]?t:{".":t},t=i),t?(e.log.once("mapfn","Map functions are experimental, their behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it."),c=f.chain(),f.map().on((function(n,r,o,a){var f=(t||u).call(this,n,r,o,a);if(i!==f){if(n===f)return c._.on("in",o);if(e.is(f))return c._.on("in",f._);var s={};Object.keys(o.put).forEach((function(t){s[t]=o.put[t]}),s),s["="]=f,c._.on("in",{get:r,put:s})}})),c):((c=s.each)||((s.each=c=f.chain())._.lex=a||c._.lex||s.lex,c._.nix=f.back("nix"),f.on("in",o,c._)),c)};var i,u=function(){}}))(n,"./map"),n((function(t){var e=n("./index");e.chain.set=function(t,n,r){var o,i,u=this,a=u.back(-1);return n=n||function(){},(r=r||{}).item=r.item||t,(o=((t||"")._||"")["#"])&&((t={})["#"]=o),"string"==typeof(i=e.valid(t))?u.get(o=i).put(t,n,r):e.is(t)?(u.put((function(r){t.get((function(t,o,a){if(!t)return n.call(u,{err:e.log('Only a node can be linked! Not "'+a.put+'"!')});(i={})[t]={"#":t},r(i)}),!0)})),t):(Object.plain(t)&&(t=a.get(o=u.back("opt.uuid")()).put(t)),u.get(o||a.back("opt.uuid")(7)).put(t,n,r))}}))(n,"./set"),n((function(t){n("./shim");var e,r=function(){},o=JSON.parseAsync||function(t,n,e){var r=+new Date;try{n(undefined,JSON.parse(t,e),i.sucks(+new Date-r))}catch(t){n(t)}},i=JSON.stringifyAsync||function(t,n,e,r){var o=+new Date;try{n(undefined,JSON.stringify(t,e,r),i.sucks(+new Date-o))}catch(t){n(t)}};i.sucks=function(t){t>99&&(console.log("Warning: JSON blocking CPU detected. Add `gun/lib/yson.js` to fix."),i.sucks=r)};try{t.exports=function(t){var n=function(){},r=t.opt||{};r.log=r.log||console.log,r.gap=r.gap||r.wait||0,r.max=r.max||.3*(r.memory?999*r.memory*999:3e8),r.pack=r.pack||.01*r.max*.01,r.puff=r.puff||9;var u=setTimeout.turn||setTimeout,a=t.dup,c=a.check,f=a.track,s=n.hear=function(t,e){if(t){if(r.max<=t.length)return n.say({dam:"!",err:"Message too big!"},e);n===this&&(s.d+=t.length||0,++s.c);var i,a=e.SH=+new Date,c=t[0];return"["===c?(o(t,(function(t,o){if(t||!o)return n.say({dam:"!",err:"DAM JSON parse error."},e);console.STAT&&console.STAT(+new Date,o.length,"# on hear batch");var i=r.puff;!function t(){for(var r,a=+new Date,c=0;c<i&&(r=o[c++]);)n.hear(r,e);o=o.slice(c),console.STAT&&console.STAT(a,+new Date-a,"hear loop"),l(e),o.length&&u(t,0)}()})),void(t="")):"{"===c||(t["#"]||Object.plain(t))&&(i=t)?i?s.one(i,e,a):void o(t,(function(t,r){if(t||!r)return n.say({dam:"!",err:"DAM JSON parse error."},e);s.one(r,e,a)})):void 0}};function l(t){var n=t.batch,e="string"==typeof n;if(e&&(n+="]"),t.batch=t.tail=null,n&&!(e?3>n.length:!n.length)){if(!e)try{n=1===n.length?n[0]:JSON.stringify(n)}catch(t){return r.log("DAM JSON stringify error",t)}n&&p(n,t)}}function p(t,e){try{var r=e.wire;e.say?e.say(t):r.send&&r.send(t),n.say.d+=t.length||0,++n.say.c}catch(n){(e.queue=e.queue||[]).push(t)}}s.one=function(e,r,o){var i,u,s,l,p;if(e.DBG&&(e.DBG=p={DBG:e.DBG}),p&&(p.h=o),p&&(p.hp=+new Date),(i=e["#"])||(i=e["#"]=String.random(9)),!((s=c(i))||(u=e["##"])&&(s=e["@"]||e.get&&i)&&a.check(l=s+u))){if((e._=function(){}).via=n.leap=r,(s=e["><"])&&"string"==typeof s&&s.slice(0,99).split(",").forEach((function(t){this[t]=1}),e._.yo={}),s=e.dam)return(s=n.hear[s])&&s(e,r,t),void f(i);o=+new Date,p&&(p.is=o),r.SI=i,t.on("in",n.last=e),p&&(p.hd=+new Date),console.STAT&&console.STAT(o,+new Date-o,e.get?"msg get":e.put?"msg put":"msg"),(s=f(i)).via=r,e.get&&(s.it=e),l&&f(l),n.leap=n.last=null}},s.c=s.d=0,function(){var t,o=0;function s(t,n){var e;return n instanceof Object?(Object.keys(n).sort().forEach(h,{to:e={},on:n}),e):n}function h(t){this.to[t]=this.on[t]}n.hash=function(t,e){var r,o,a,c=+new Date;i(t.put,(function i(f,s){var l=(o||(o=a=s||"")).slice(0,32768);r=String.hash(l,r),(o=o.slice(32768))?u(i,0):(console.STAT&&console.STAT(c,+new Date-c,"say json+hash"),t._.$put=a,t["##"]=r,n.say(t,e),delete t._.$put)}),s)},(n.say=function(i,c){var s;if((s=this)&&(s=s.to)&&s.next&&s.next(i),!i)return!1;var h,v,g=i["@"],d=i._||(i._=function(){}),y=i.DBG,_=+new Date;if(d.y=d.y||_,c||y&&(y.y=_),(h=i["#"])||(h=i["#"]=String.random(9)),!t&&f(h),i.put&&(i.err||(a.s[h]||"").err))return!1;if(i["##"]||e===i.put||d.via||!g){if(!c&&g&&(c=(s=a.s[g])&&(s.via||(s=s.it)&&(s=s._)&&s.via)||(s=n.last)&&g===s["#"]&&n.leap),!c&&g){if(a.s[g])return;return console.STAT&&console.STAT(+new Date,++o,"total no peer to ack to"),!1}if(!c&&n.way)return n.way(i);if(y&&(y.yh=+new Date),v=d.raw){if(y&&(y.yr=+new Date),!c||!c.id){if(!Object.plain(c||r.peers))return!1;_=+new Date,r.puff;var m=r.peers,b=Object.keys(c||r.peers||{});return console.STAT&&console.STAT(_,+new Date-_,"peer keys"),void function e(){var r=+new Date;t=1;var o=d.raw;d.raw=v;for(var a,c=0;c<9&&(a=(b||"")[c++]);)(a=m[a])&&n.say(i,a);d.raw=o,t=0,b=b.slice(c),console.STAT&&console.STAT(r,+new Date-r,"say loop"),b.length&&(u(e,0),g&&f(g))}()}if(!c.wire&&n.wire&&n.wire(c),h!==c.last){if(c.last=h,c===d.via)return!1;if((s=d.yo)&&(s[c.url]||s[c.pid]||s[c.id]))return!1;if(console.STAT&&console.STAT(_,((y||d).yp=+new Date)-(d.y||_),"say prep"),!t&&g&&f(g),c.batch){if(c.tail=(s=c.tail||0)+v.length,c.tail<=r.pack)return void(c.batch+=(s?",":"")+v);l(c)}c.batch="[";var w=+new Date;setTimeout((function(){console.STAT&&console.STAT(w,+new Date-w,"0ms TO"),l(c)}),r.gap),p(v,c),console.STAT&&g===c.SI&&console.STAT(_,+new Date-c.SH,"say ack")}}else n.raw(i,c)}else n.hash(i,c)}).c=n.say.d=0,n.raw=function(t,o){if(!t)return"";var u,f,s=t._||{};if(f=s.raw)return f;if("string"==typeof t)return t;var l=t["##"],p=t["@"];if(l&&p){if(!s.via&&c(p+l))return!1;if((f=(a.s[p]||"").it)||(f=n.last)&&p===f["#"]){if(l===f["##"])return!1;f["##"]||(f["##"]=l)}}if(!t.dam){var h=0,v=[];for(var g in f=r.peers){var d=f[g];if(v.push(d.url||d.pid||d.id),++h>6)break}h>1&&(t["><"]=v.join())}if(u=s.$put)return f={},Object.keys(t).forEach((function(n){f[n]=t[n]})),f.put=":])([:",void i(f,(function(t,n){if(!t){var r=+new Date;f=n.indexOf('"put":":])([:"'),y(e,n=n.slice(0,f+6)+u+n.slice(f+14)),console.STAT&&console.STAT(r,+new Date-r,"say slice")}}));function y(e,r){e||(s.raw=r,n.say(t,o))}i(t,y)}}(),n.hi=function(e){var o,i=e.wire;i?(e.id?r.peers[e.url||e.id]=e:(o=e.id=e.id||String.random(9),n.say({dam:"?",pid:t.opt.pid},r.peers[o]=e),delete a.s[e.last]),e.met=e.met||+new Date,i.hied||t.on(i.hied="hi",e),o=e.queue,e.queue=[],setTimeout.each(o||[],(function(t){p(t,e)}),0,9)):n.wire(e.length&&{url:e}||e)},n.bye=function(e){t.on("bye",e);var r=+new Date;r-=e.met||r,n.bye.time=((n.bye.time||r)+r)/2},n.hear["!"]=function(t,n){r.log("Error:",t.err)},n.hear["?"]=function(t,e){t.pid&&(e.pid||(e.pid=t.pid),t["@"])||(n.say({dam:"?",pid:r.pid,"@":t["#"]},e),delete a.s[e.last])},t.on("create",(function(t){t.opt.pid=t.opt.pid||String.random(9),this.to.next(t),t.on("out",n.say)})),t.on("bye",(function(t,n){t=r.peers[t.id||t]||t,this.to.next(t),t.bye?t.bye():(n=t.wire)&&n.close&&n.close(),delete r.peers[t.id],t.wire=null}));var h={};return t.on("bye",(function(t,n){this.to.next(t),(n=console.STAT)&&(n.peers=(n.peers||0)-1),(n=t.url)&&(h[n]=!0,setTimeout((function(){delete h[n]}),r.lack||9e3))})),t.on("hi",(function(e,o){this.to.next(e),(o=console.STAT)&&(o.peers=(o.peers||0)+1),(o=e.url)&&h[o]&&(delete h[o],r.super||setTimeout.each(Object.keys(t.next),(function(r){t.next[r],(o={})[r]=t.graph[r],o=String.hash(o),n.say({"##":o,get:{"#":r}},e)})))})),n}}catch(t){}}))(n,"./mesh"),n((function(t){var e=n("../index");e.Mesh=n("./mesh"),e.on("opt",(function(t){if(this.to.next(t),!t.once){var n=t.opt;if(!1!==n.WebSocket){var r=e.window||{},o=n.WebSocket||r.WebSocket||r.webkitWebSocket||r.mozWebSocket;if(o){n.WebSocket=o;var i=n.mesh=n.mesh||e.Mesh(t);i.wire||n.wire,i.wire=n.wire=c,setTimeout((function(){!n.super&&t.on("out",{dam:"hi"})}),1);var u=1998,a=""+undefined!=typeof document&&document}}}function c(t){try{if(!t||!t.url)return r&&r(t);var e=t.url.replace(/^http/,"ws"),r=t.wire=new n.WebSocket(e);return r.onclose=function(){n.mesh.bye(t),f(t)},r.onerror=function(n){f(t)},r.onopen=function(){n.mesh.hi(t)},r.onmessage=function(e){e&&n.mesh.hear(e.data||e,t)},r}catch(t){}}function f(t){clearTimeout(t.defer),n.peers[t.url]&&(a&&t.retry<=0||(t.retry=(t.retry||n.retry+1||60)-(-t.tried+(t.tried=+new Date)<7992?1:0),t.defer=setTimeout((function n(){if(a&&a.hidden)return setTimeout(n,u);c(t)}),u)))}}))}))(n,"./websocket"),n((function(t){if("undefined"!=typeof Gun){var n;try{n=(Gun.window||function(){}).localStorage}catch(t){}n||(Gun.log("Warning: No localStorage exists to persist data to!"),n={setItem:function(t,n){this[t]=n},removeItem:function(t){delete this[t]},getItem:function(t){return this[t]}});var e=JSON.stringifyAsync||function(t,n,e,r){try{n(undefined,JSON.stringify(t,e,r))}catch(t){n(t)}};Gun.on("create",(function t(r){this.to.next(r);var o=r.opt;r.graph;var i,u,a,c,f=[];if(!1!==o.localStorage){o.prefix=o.file||"gun/";try{i=t[o.prefix]=t[o.prefix]||JSON.parse(a=n.getItem(o.prefix))||{}}catch(n){i=t[o.prefix]={}}a=(a||"").length,r.on("get",(function(t){this.to.next(t);var n,e,r,o=t.get;o&&(n=o["#"])&&((e=i[n]||undefined)&&(r=o["."])&&!Object.plain(r)&&(e=Gun.state.ify({},r,Gun.state.is(e,r),e[r],n)),Gun.on.get.ack(t,e))})),r.on("put",(function(t){this.to.next(t);var n=t.put,e=n["#"],o=n["."],l=t["#"];i[e]=Gun.state.ify(i[e],o,n[">"],n[":"],e),c&&a>4999880?r.on("in",{"@":l,err:"localStorage max!"}):(t["@"]||f.push(l),u||(u=setTimeout(s,9+a/333)))}))}function s(){if(f.length||!((setTimeout.turn||"").s||"").length){var t=f;clearTimeout(u),u=!1,f=[],e(i,(function(e,u){try{!e&&n.setItem(o.prefix,u)}catch(t){e=c=t||"localStorage failure"}e&&(Gun.log(e+" Consider using GUN's IndexedDB plugin for RAD for more storage space, https://gun.eco/docs/RAD#install"),r.on("localStorage:error",{err:e,get:o.prefix,put:i})),a=u.length,(e||Object.empty(o.peers))&&setTimeout.each(t,(function(t){r.on("in",{"@":t,err:e,ok:0})}),0,99)}))}else setTimeout(s,99)}}))}}))(n,"./localStorage")}(),function(){if(""+k!=typeof Gun){var t=function(t){console.warn("Warning! Deprecated internal utility will break in next version:",t)},n=Gun;n.fn=n.fn||{is:function(n){return t("fn"),!!n&&"function"==typeof n}},n.bi=n.bi||{is:function(n){return t("bi"),n instanceof Boolean||"boolean"==typeof n}},n.num=n.num||{is:function(n){return t("num"),!r(n)&&(n-parseFloat(n)+1>=0||1/0===n||-1/0===n)}},n.text=n.text||{is:function(n){return t("text"),"string"==typeof n}},n.text.ify=n.text.ify||function(e){return t("text.ify"),n.text.is(e)?e:"undefined"!=typeof JSON?JSON.stringify(e):e&&e.toString?e.toString():e},n.text.random=n.text.random||function(n,e){t("text.random");var r="";for(n=n||24,e=e||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz";n>0;)r+=e.charAt(Math.floor(Math.random()*e.length)),n--;return r},n.text.match=n.text.match||function(n,e){var r,o;return t("text.match"),"string"==typeof n&&("string"==typeof e&&(e={"=":e}),n===(r=(e=e||{})["="]||e["*"]||e[">"]||e["<"])||o===e["="]&&(r=e["*"]||e[">"]||e["<"],n.slice(0,(r||"").length)===r||o===e["*"]&&(o!==e[">"]&&o!==e["<"]?n>=e[">"]&&n<=e["<"]:o!==e[">"]&&n>=e[">"]||o!==e["<"]&&n<=e["<"])))},n.text.hash=n.text.hash||function(n,e){if(t("text.hash"),"string"==typeof n){if(e=e||0,!n.length)return e;for(var r=0,o=n.length;r<o;++r)e=(e<<5)-e+n.charCodeAt(r),e|=0;return e}},n.list=n.list||{is:function(n){return t("list"),n instanceof Array}},n.list.slit=n.list.slit||Array.prototype.slice,n.list.sort=n.list.sort||function(n){return t("list.sort"),function(t,e){return t&&e?(t=t[n])<(e=e[n])?-1:t>e?1:0:0}},n.list.map=n.list.map||function(n,e,r){return t("list.map"),u(n,e,r)},n.list.index=1,n.obj=n.boj||{is:function(n){return t("obj"),!!n&&(n instanceof Object&&n.constructor===Object||"Object"===Object.prototype.toString.call(n).match(/^\[object (\w+)\]$/)[1])}},n.obj.put=n.obj.put||function(n,e,r){return t("obj.put"),(n||{})[e]=r,n},n.obj.has=n.obj.has||function(n,e){return t("obj.has"),n&&Object.prototype.hasOwnProperty.call(n,e)},n.obj.del=n.obj.del||function(n,e){if(t("obj.del"),n)return n[e]=null,delete n[e],n},n.obj.as=n.obj.as||function(n,e,r,o){return t("obj.as"),n[e]=n[e]||(o===r?{}:r)},n.obj.ify=n.obj.ify||function(n){if(t("obj.ify"),o(n))return n;try{n=JSON.parse(n)}catch(t){n={}}return n},function(){function e(t,n){i(this,n)&&undefined!==this[n]||(this[n]=t)}n.obj.to=n.obj.to||function(n,r){return t("obj.to"),u(n,e,r=r||{}),r}}(),n.obj.copy=n.obj.copy||function(n){return t("obj.copy"),n?JSON.parse(JSON.stringify(n)):n},function(){function e(t,n){var e=this.n;if(!e||!(n===e||o(e)&&i(e,n)))return undefined!==n||void 0}n.obj.empty=n.obj.empty||function(n,r){return t("obj.empty"),!n||!u(n,e,{n:r})}}(),function(){function e(t,n){if(2===arguments.length)return e.r=e.r||{},void(e.r[t]=n);e.r=e.r||[],e.r.push(t)}var u,a=Object.keys;Object.keys=Object.keys||function(t){return u(t,(function(t,n,e){e(n)}))},n.obj.map=u=n.obj.map||function(u,c,f){t("obj.map");var s,l,p,h,v,g=0,d="function"==typeof c;if(e.r=s,a&&o(u)&&(h=a(u),v=!0),f=f||{},r(u)||h)for(l=(h||u).length;g<l;g++){var y=g+n.list.index;if(d){if((p=v?c.call(f,u[h[g]],h[g],e):c.call(f,u[g],y,e))!==s)return p}else if(c===u[v?h[g]:g])return h?h[g]:y}else for(g in u)if(d){if(i(u,g)&&(p=f?c.call(f,u[g],g,e):c(u[g],g,e))!==s)return p}else if(c===u[g])return g;return d?e.r:n.list.index?0:-1}}(),n.time=n.time||{},n.time.is=n.time.is||function(n){return t("time"),n?n instanceof Date:+(new Date).getTime()};var e=n.fn.is,r=n.list.is,o=(w=n.obj).is,i=w.has,u=w.map,a={is:function(n){return t("val.is"),n!==k&&(null===n||n!==1/0&&(!!(l(n)||f(n)||s(n))||(a.link.is(n)||!1)))}};a.link=a.rel={_:"#"},function(){function n(t,n){var e=this;return e.id?e.id=!1:n==c&&l(t)?void(e.id=t):e.id=!1}a.link.is=function(e){if(t("val.link.is"),e&&e[c]&&!e._&&o(e)){var r={};if(u(e,n,r),r.id)return r.id}return!1}}(),a.link.ify=function(n){return t("val.link.ify"),p({},c,n)},n.obj.has._=".";var c=a.link._,f=n.bi.is,s=n.num.is,l=n.text.is,p=(o=(w=n.obj).is,w.put);u=w.map;n.val=n.val||a;var h={_:"_",soul:function(n,e){return t("node.soul"),n&&n._&&n._[e||d]}};h.soul.ify=function(n,e){return t("node.soul.ify"),e="string"==typeof e?{soul:e}:e||{},(n=n||{})._=n._||{},n._[d]=e.soul||n._[d]||g(),n},h.soul._=a.link._,function(){function n(t,n){if(n!==h._)return!a.is(t)||void(this.cb&&this.cb.call(this.as,t,n,this.n,this.s))}h.is=function(e,r,i){var a;return t("node.is"),!!o(e)&&(!!(a=h.soul(e))&&!u(e,n,{as:i,cb:r,s:a,n:e}))}}(),function(){function n(t,n){var e,r=this.o;r.map?undefined===(e=r.map.call(this.as,t,""+n,r.node))?v(r.node,n):r.node&&(r.node[n]=e):a.is(t)&&(r.node[n]=t)}h.ify=function(e,r,o){return t("node.ify"),r?"string"==typeof r?r={soul:r}:"function"==typeof r&&(r={map:r}):r={},r.map&&(r.node=r.map.call(o,e,k,r.node||{})),(r.node=h.soul.ify(r.node||{},r))&&u(e,n,{o:r,as:o}),r.node}}();o=(w=n.obj).is;var v=w.del,g=(u=w.map,n.text.random),d=h.soul._;n.node=n.node||h;var y=n.state;y.lex=function(){return t("state.lex"),y().toString(36).replace(".","")},y.to=function(n,e,r){t("state.to");var i=(n||{})[e];return o(i)&&(i=_(i)),y.ify(r,e,y.is(n,e),i,h.soul(n))},function(){function n(t,n){m!==n&&y.ify(this.o,n,this.s)}y.map=function(r,a,c){var f;t("state.map");var l=o(l=r||a)?l:null;return r=e(r=r||a)?r:null,l&&!r?(a=s(a)?a:y(),l[m]=l[m]||{},u(l,n,{o:l,s:a}),l):(c=c||o(a)?a:f,a=s(a)?a:y(),function(t,e,o,u){if(!r)return n.call({o:o,s:a},t,e),t;r.call(c||this||{},t,e,o,u),i(o,e)&&f===o[e]||n.call({o:o,s:a},t,e)})}}(),(w=n.obj).as;i=w.has,o=w.is,u=w.map;var _=w.copy,m=(s=n.num.is,e=n.fn.is,h._),b={};!function(){function n(t,n){if(!t||n!==h.soul(t)||!h.is(t,this.fn,this.as))return!0;this.cb&&(e.n=t,e.as=this.as,this.cb.call(e.as,t,n,e))}function e(t){t&&h.is(e.n,t,e.as)}b.is=function(e,r,i,a){return t("graph.is"),!(!e||!o(e)||x(e))&&!u(e,n,{cb:r,fn:i,as:a})}}(),function(){function e(t,n){var e;return(e=function(t,n){var e,r=t.seen,o=r.length;for(;o--;)if(e=r[o],n.obj===e.obj)return e;r.push(n)}(t,n))?e:(n.env=t,n.soul=u,h.ify(n.obj,r,n)&&(n.link=n.link||a.link.ify(h.soul(n.node)),n.obj!==t.shell&&(t.graph[a.link.is(n.link)]=n.node)),n)}function r(t,n,r){var o,u,f=this,s=f.env;if(h._===n&&i(t,a.link._))return r._;if(o=c(t,n,r,f,s)){if(n||(f.node=f.node||r||{},i(t,h._)&&h.soul(t)&&(f.node._=_(t._)),f.node=h.soul.ify(f.node,a.link.is(f.link)),f.link=f.link||a.link.ify(h.soul(f.node))),(u=s.map)&&(u.call(s.as||{},t,n,r,f),i(r,n))){if(t=r[n],k===t)return void v(r,n);if(!(o=c(t,n,r,f,s)))return}if(!n)return f.node;if(!0===o)return t;if((u=e(s,{obj:t,path:f.path.concat(n)})).node)return u.link}}function u(t){var n=this,e=a.link.is(n.link),r=n.env.graph;n.link=n.link||a.link.ify(t),n.link[a.link._]=t,n.node&&n.node[h._]&&(n.node[h._][a.link._]=t),i(r,e)&&(r[t]=r[e],v(r,e))}function c(t,e,r,i,u){var f;return!!a.is(t)||(o(t)?1:(f=u.invalid)?c(t=f.call(u.as||{},t,e,r),e,r,i,u):(u.err="Invalid value at '"+i.path.concat(e).join(".")+"'!",void(n.list.is(t)&&(u.err+=" Use `.set(item)` instead of an Array."))))}b.ify=function(n,r,o){t("graph.ify");var i={path:[],obj:n};return r?"string"==typeof r?r={soul:r}:"function"==typeof r&&(r.map=r):r={},"string"==typeof o&&(r.soul=r.soul||o,o=k),r.soul&&(i.link=a.link.ify(r.soul)),r.shell=(o||{}).shell,r.graph=r.graph||{},r.seen=r.seen||[],r.as=r.as||o,e(r,i),r.root=i.node,r.graph}}(),b.node=function(n){t("graph.node");var e=h.soul(n);if(e)return p({},e,n)},function(){function n(t,n){var e,r;if(h._!==n)(e=a.link.is(t))?(r=this.opt.seen[e])?this.obj[n]=r:this.obj[n]=this.opt.seen[e]=b.to(this.graph,e,this.opt):this.obj[n]=t;else{if(x(t,a.link._))return;this.obj[n]=_(t)}}b.to=function(e,r,o){if(t("graph.to"),e){var i={};return o=o||{seen:{}},u(e[r],n,{obj:i,graph:e,opt:o}),i}}}();e=n.fn.is,o=(w=n.obj).is,v=w.del,i=w.has;var w,k,x=w.empty;p=w.put,u=w.map,_=w.copy;n.graph=n.graph||b}}()}));const it=ot("https://msdchat.herokuapp.com/gun");
/**
     * @license
     * Lodash <https://lodash.com/>
     * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
     * Released under MIT license <https://lodash.com/license>
     * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
     * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
     */var ut=et((function(t,n){(function(){var e,r="Expected a function",o="__lodash_hash_undefined__",i="__lodash_placeholder__",u=16,a=32,c=64,f=128,s=256,l=1/0,p=9007199254740991,h=NaN,v=4294967295,g=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",a],["partialRight",c],["rearg",s]],d="[object Arguments]",y="[object Array]",_="[object Boolean]",m="[object Date]",b="[object Error]",w="[object Function]",k="[object GeneratorFunction]",x="[object Map]",S="[object Number]",A="[object Object]",j="[object Promise]",$="[object RegExp]",O="[object Set]",T="[object String]",E="[object Symbol]",D="[object WeakMap]",C="[object ArrayBuffer]",B="[object DataView]",N="[object Float32Array]",I="[object Float64Array]",U="[object Int8Array]",R="[object Int16Array]",z="[object Int32Array]",P="[object Uint8Array]",G="[object Uint8ClampedArray]",L="[object Uint16Array]",M="[object Uint32Array]",W=/\b__p \+= '';/g,J=/\b(__p \+=) '' \+/g,F=/(__e\(.*?\)|\b__t\)) \+\n'';/g,K=/&(?:amp|lt|gt|quot|#39);/g,H=/[&<>"']/g,q=RegExp(K.source),V=RegExp(H.source),Z=/<%-([\s\S]+?)%>/g,Y=/<%([\s\S]+?)%>/g,Q=/<%=([\s\S]+?)%>/g,X=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tt=/^\w*$/,et=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rt=/[\\^$.*+?()[\]{}|]/g,ot=RegExp(rt.source),it=/^\s+/,ut=/\s/,at=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ct=/\{\n\/\* \[wrapped with (.+)\] \*/,ft=/,? & /,st=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,lt=/[()=,{}\[\]\/\s]/,pt=/\\(\\)?/g,ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vt=/\w*$/,gt=/^[-+]0x[0-9a-f]+$/i,dt=/^0b[01]+$/i,yt=/^\[object .+?Constructor\]$/,_t=/^0o[0-7]+$/i,mt=/^(?:0|[1-9]\d*)$/,bt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wt=/($^)/,kt=/['\n\r\u2028\u2029\\]/g,xt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",St="\\u2700-\\u27bf",At="a-z\\xdf-\\xf6\\xf8-\\xff",jt="A-Z\\xc0-\\xd6\\xd8-\\xde",$t="\\ufe0e\\ufe0f",Ot="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Tt="[']",Et="[\\ud800-\\udfff]",Dt="["+Ot+"]",Ct="["+xt+"]",Bt="\\d+",Nt="[\\u2700-\\u27bf]",It="["+At+"]",Ut="[^\\ud800-\\udfff"+Ot+Bt+St+At+jt+"]",Rt="\\ud83c[\\udffb-\\udfff]",zt="[^\\ud800-\\udfff]",Pt="(?:\\ud83c[\\udde6-\\uddff]){2}",Gt="[\\ud800-\\udbff][\\udc00-\\udfff]",Lt="["+jt+"]",Mt="(?:"+It+"|"+Ut+")",Wt="(?:"+Lt+"|"+Ut+")",Jt="(?:['](?:d|ll|m|re|s|t|ve))?",Ft="(?:['](?:D|LL|M|RE|S|T|VE))?",Kt="(?:"+Ct+"|"+Rt+")"+"?",Ht="[\\ufe0e\\ufe0f]?",qt=Ht+Kt+("(?:\\u200d(?:"+[zt,Pt,Gt].join("|")+")"+Ht+Kt+")*"),Vt="(?:"+[Nt,Pt,Gt].join("|")+")"+qt,Zt="(?:"+[zt+Ct+"?",Ct,Pt,Gt,Et].join("|")+")",Yt=RegExp(Tt,"g"),Qt=RegExp(Ct,"g"),Xt=RegExp(Rt+"(?="+Rt+")|"+Zt+qt,"g"),tn=RegExp([Lt+"?"+It+"+"+Jt+"(?="+[Dt,Lt,"$"].join("|")+")",Wt+"+"+Ft+"(?="+[Dt,Lt+Mt,"$"].join("|")+")",Lt+"?"+Mt+"+"+Jt,Lt+"+"+Ft,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Bt,Vt].join("|"),"g"),nn=RegExp("[\\u200d\\ud800-\\udfff"+xt+$t+"]"),en=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,rn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],on=-1,un={};un[N]=un[I]=un[U]=un[R]=un[z]=un[P]=un[G]=un[L]=un[M]=!0,un[d]=un[y]=un[C]=un[_]=un[B]=un[m]=un[b]=un[w]=un[x]=un[S]=un[A]=un[$]=un[O]=un[T]=un[D]=!1;var an={};an[d]=an[y]=an[C]=an[B]=an[_]=an[m]=an[N]=an[I]=an[U]=an[R]=an[z]=an[x]=an[S]=an[A]=an[$]=an[O]=an[T]=an[E]=an[P]=an[G]=an[L]=an[M]=!0,an[b]=an[w]=an[D]=!1;var cn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},fn=parseFloat,sn=parseInt,ln="object"==typeof nt&&nt&&nt.Object===Object&&nt,pn="object"==typeof self&&self&&self.Object===Object&&self,hn=ln||pn||Function("return this")(),vn=n&&!n.nodeType&&n,gn=vn&&t&&!t.nodeType&&t,dn=gn&&gn.exports===vn,yn=dn&&ln.process,_n=function(){try{var t=gn&&gn.require&&gn.require("util").types;return t||yn&&yn.binding&&yn.binding("util")}catch(t){}}(),mn=_n&&_n.isArrayBuffer,bn=_n&&_n.isDate,wn=_n&&_n.isMap,kn=_n&&_n.isRegExp,xn=_n&&_n.isSet,Sn=_n&&_n.isTypedArray;function An(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}function jn(t,n,e,r){for(var o=-1,i=null==t?0:t.length;++o<i;){var u=t[o];n(r,u,e(u),t)}return r}function $n(t,n){for(var e=-1,r=null==t?0:t.length;++e<r&&!1!==n(t[e],e,t););return t}function On(t,n){for(var e=null==t?0:t.length;e--&&!1!==n(t[e],e,t););return t}function Tn(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(!n(t[e],e,t))return!1;return!0}function En(t,n){for(var e=-1,r=null==t?0:t.length,o=0,i=[];++e<r;){var u=t[e];n(u,e,t)&&(i[o++]=u)}return i}function Dn(t,n){return!!(null==t?0:t.length)&&Ln(t,n,0)>-1}function Cn(t,n,e){for(var r=-1,o=null==t?0:t.length;++r<o;)if(e(n,t[r]))return!0;return!1}function Bn(t,n){for(var e=-1,r=null==t?0:t.length,o=Array(r);++e<r;)o[e]=n(t[e],e,t);return o}function Nn(t,n){for(var e=-1,r=n.length,o=t.length;++e<r;)t[o+e]=n[e];return t}function In(t,n,e,r){var o=-1,i=null==t?0:t.length;for(r&&i&&(e=t[++o]);++o<i;)e=n(e,t[o],o,t);return e}function Un(t,n,e,r){var o=null==t?0:t.length;for(r&&o&&(e=t[--o]);o--;)e=n(e,t[o],o,t);return e}function Rn(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}var zn=Fn("length");function Pn(t,n,e){var r;return e(t,(function(t,e,o){if(n(t,e,o))return r=e,!1})),r}function Gn(t,n,e,r){for(var o=t.length,i=e+(r?1:-1);r?i--:++i<o;)if(n(t[i],i,t))return i;return-1}function Ln(t,n,e){return n==n?function(t,n,e){var r=e-1,o=t.length;for(;++r<o;)if(t[r]===n)return r;return-1}(t,n,e):Gn(t,Wn,e)}function Mn(t,n,e,r){for(var o=e-1,i=t.length;++o<i;)if(r(t[o],n))return o;return-1}function Wn(t){return t!=t}function Jn(t,n){var e=null==t?0:t.length;return e?qn(t,n)/e:h}function Fn(t){return function(n){return null==n?e:n[t]}}function Kn(t){return function(n){return null==t?e:t[n]}}function Hn(t,n,e,r,o){return o(t,(function(t,o,i){e=r?(r=!1,t):n(e,t,o,i)})),e}function qn(t,n){for(var r,o=-1,i=t.length;++o<i;){var u=n(t[o]);u!==e&&(r=r===e?u:r+u)}return r}function Vn(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}function Zn(t){return t?t.slice(0,ve(t)+1).replace(it,""):t}function Yn(t){return function(n){return t(n)}}function Qn(t,n){return Bn(n,(function(n){return t[n]}))}function Xn(t,n){return t.has(n)}function te(t,n){for(var e=-1,r=t.length;++e<r&&Ln(n,t[e],0)>-1;);return e}function ne(t,n){for(var e=t.length;e--&&Ln(n,t[e],0)>-1;);return e}function ee(t,n){for(var e=t.length,r=0;e--;)t[e]===n&&++r;return r}var re=Kn({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),oe=Kn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ie(t){return"\\"+cn[t]}function ue(t){return nn.test(t)}function ae(t){var n=-1,e=Array(t.size);return t.forEach((function(t,r){e[++n]=[r,t]})),e}function ce(t,n){return function(e){return t(n(e))}}function fe(t,n){for(var e=-1,r=t.length,o=0,u=[];++e<r;){var a=t[e];a!==n&&a!==i||(t[e]=i,u[o++]=e)}return u}function se(t){var n=-1,e=Array(t.size);return t.forEach((function(t){e[++n]=t})),e}function le(t){var n=-1,e=Array(t.size);return t.forEach((function(t){e[++n]=[t,t]})),e}function pe(t){return ue(t)?function(t){var n=Xt.lastIndex=0;for(;Xt.test(t);)++n;return n}(t):zn(t)}function he(t){return ue(t)?function(t){return t.match(Xt)||[]}(t):function(t){return t.split("")}(t)}function ve(t){for(var n=t.length;n--&&ut.test(t.charAt(n)););return n}var ge=Kn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var de=function t(n){var nt,ut=(n=null==n?hn:de.defaults(hn.Object(),n,de.pick(hn,rn))).Array,xt=n.Date,St=n.Error,At=n.Function,jt=n.Math,$t=n.Object,Ot=n.RegExp,Tt=n.String,Et=n.TypeError,Dt=ut.prototype,Ct=At.prototype,Bt=$t.prototype,Nt=n["__core-js_shared__"],It=Ct.toString,Ut=Bt.hasOwnProperty,Rt=0,zt=(nt=/[^.]+$/.exec(Nt&&Nt.keys&&Nt.keys.IE_PROTO||""))?"Symbol(src)_1."+nt:"",Pt=Bt.toString,Gt=It.call($t),Lt=hn._,Mt=Ot("^"+It.call(Ut).replace(rt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wt=dn?n.Buffer:e,Jt=n.Symbol,Ft=n.Uint8Array,Kt=Wt?Wt.allocUnsafe:e,Ht=ce($t.getPrototypeOf,$t),qt=$t.create,Vt=Bt.propertyIsEnumerable,Zt=Dt.splice,Xt=Jt?Jt.isConcatSpreadable:e,nn=Jt?Jt.iterator:e,cn=Jt?Jt.toStringTag:e,ln=function(){try{var t=vi($t,"defineProperty");return t({},"",{}),t}catch(t){}}(),pn=n.clearTimeout!==hn.clearTimeout&&n.clearTimeout,vn=xt&&xt.now!==hn.Date.now&&xt.now,gn=n.setTimeout!==hn.setTimeout&&n.setTimeout,yn=jt.ceil,_n=jt.floor,zn=$t.getOwnPropertySymbols,Kn=Wt?Wt.isBuffer:e,ye=n.isFinite,_e=Dt.join,me=ce($t.keys,$t),be=jt.max,we=jt.min,ke=xt.now,xe=n.parseInt,Se=jt.random,Ae=Dt.reverse,je=vi(n,"DataView"),$e=vi(n,"Map"),Oe=vi(n,"Promise"),Te=vi(n,"Set"),Ee=vi(n,"WeakMap"),De=vi($t,"create"),Ce=Ee&&new Ee,Be={},Ne=Li(je),Ie=Li($e),Ue=Li(Oe),Re=Li(Te),ze=Li(Ee),Pe=Jt?Jt.prototype:e,Ge=Pe?Pe.valueOf:e,Le=Pe?Pe.toString:e;function Me(t){if(oa(t)&&!Hu(t)&&!(t instanceof Ke)){if(t instanceof Fe)return t;if(Ut.call(t,"__wrapped__"))return Mi(t)}return new Fe(t)}var We=function(){function t(){}return function(n){if(!ra(n))return{};if(qt)return qt(n);t.prototype=n;var r=new t;return t.prototype=e,r}}();function Je(){}function Fe(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=e}function Ke(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=v,this.__views__=[]}function He(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function qe(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function Ve(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function Ze(t){var n=-1,e=null==t?0:t.length;for(this.__data__=new Ve;++n<e;)this.add(t[n])}function Ye(t){var n=this.__data__=new qe(t);this.size=n.size}function Qe(t,n){var e=Hu(t),r=!e&&Ku(t),o=!e&&!r&&Yu(t),i=!e&&!r&&!o&&pa(t),u=e||r||o||i,a=u?Vn(t.length,Tt):[],c=a.length;for(var f in t)!n&&!Ut.call(t,f)||u&&("length"==f||o&&("offset"==f||"parent"==f)||i&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||wi(f,c))||a.push(f);return a}function Xe(t){var n=t.length;return n?t[Zr(0,n-1)]:e}function tr(t,n){return zi(Co(t),fr(n,0,t.length))}function nr(t){return zi(Co(t))}function er(t,n,r){(r!==e&&!Wu(t[n],r)||r===e&&!(n in t))&&ar(t,n,r)}function rr(t,n,r){var o=t[n];Ut.call(t,n)&&Wu(o,r)&&(r!==e||n in t)||ar(t,n,r)}function or(t,n){for(var e=t.length;e--;)if(Wu(t[e][0],n))return e;return-1}function ir(t,n,e,r){return vr(t,(function(t,o,i){n(r,t,e(t),i)})),r}function ur(t,n){return t&&Bo(n,Na(n),t)}function ar(t,n,e){"__proto__"==n&&ln?ln(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e}function cr(t,n){for(var r=-1,o=n.length,i=ut(o),u=null==t;++r<o;)i[r]=u?e:Ta(t,n[r]);return i}function fr(t,n,r){return t==t&&(r!==e&&(t=t<=r?t:r),n!==e&&(t=t>=n?t:n)),t}function sr(t,n,r,o,i,u){var a,c=1&n,f=2&n,s=4&n;if(r&&(a=i?r(t,o,i,u):r(t)),a!==e)return a;if(!ra(t))return t;var l=Hu(t);if(l){if(a=function(t){var n=t.length,e=new t.constructor(n);n&&"string"==typeof t[0]&&Ut.call(t,"index")&&(e.index=t.index,e.input=t.input);return e}(t),!c)return Co(t,a)}else{var p=yi(t),h=p==w||p==k;if(Yu(t))return jo(t,c);if(p==A||p==d||h&&!i){if(a=f||h?{}:mi(t),!c)return f?function(t,n){return Bo(t,di(t),n)}(t,function(t,n){return t&&Bo(n,Ia(n),t)}(a,t)):function(t,n){return Bo(t,gi(t),n)}(t,ur(a,t))}else{if(!an[p])return i?t:{};a=function(t,n,e){var r=t.constructor;switch(n){case C:return $o(t);case _:case m:return new r(+t);case B:return function(t,n){var e=n?$o(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,e);case N:case I:case U:case R:case z:case P:case G:case L:case M:return Oo(t,e);case x:return new r;case S:case T:return new r(t);case $:return function(t){var n=new t.constructor(t.source,vt.exec(t));return n.lastIndex=t.lastIndex,n}(t);case O:return new r;case E:return o=t,Ge?$t(Ge.call(o)):{}}var o}(t,p,c)}}u||(u=new Ye);var v=u.get(t);if(v)return v;u.set(t,a),fa(t)?t.forEach((function(e){a.add(sr(e,n,r,e,t,u))})):ia(t)&&t.forEach((function(e,o){a.set(o,sr(e,n,r,o,t,u))}));var g=l?e:(s?f?ai:ui:f?Ia:Na)(t);return $n(g||t,(function(e,o){g&&(e=t[o=e]),rr(a,o,sr(e,n,r,o,t,u))})),a}function lr(t,n,r){var o=r.length;if(null==t)return!o;for(t=$t(t);o--;){var i=r[o],u=n[i],a=t[i];if(a===e&&!(i in t)||!u(a))return!1}return!0}function pr(t,n,o){if("function"!=typeof t)throw new Et(r);return Ni((function(){t.apply(e,o)}),n)}function hr(t,n,e,r){var o=-1,i=Dn,u=!0,a=t.length,c=[],f=n.length;if(!a)return c;e&&(n=Bn(n,Yn(e))),r?(i=Cn,u=!1):n.length>=200&&(i=Xn,u=!1,n=new Ze(n));t:for(;++o<a;){var s=t[o],l=null==e?s:e(s);if(s=r||0!==s?s:0,u&&l==l){for(var p=f;p--;)if(n[p]===l)continue t;c.push(s)}else i(n,l,r)||c.push(s)}return c}Me.templateSettings={escape:Z,evaluate:Y,interpolate:Q,variable:"",imports:{_:Me}},Me.prototype=Je.prototype,Me.prototype.constructor=Me,Fe.prototype=We(Je.prototype),Fe.prototype.constructor=Fe,Ke.prototype=We(Je.prototype),Ke.prototype.constructor=Ke,He.prototype.clear=function(){this.__data__=De?De(null):{},this.size=0},He.prototype.delete=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n},He.prototype.get=function(t){var n=this.__data__;if(De){var r=n[t];return r===o?e:r}return Ut.call(n,t)?n[t]:e},He.prototype.has=function(t){var n=this.__data__;return De?n[t]!==e:Ut.call(n,t)},He.prototype.set=function(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=De&&n===e?o:n,this},qe.prototype.clear=function(){this.__data__=[],this.size=0},qe.prototype.delete=function(t){var n=this.__data__,e=or(n,t);return!(e<0)&&(e==n.length-1?n.pop():Zt.call(n,e,1),--this.size,!0)},qe.prototype.get=function(t){var n=this.__data__,r=or(n,t);return r<0?e:n[r][1]},qe.prototype.has=function(t){return or(this.__data__,t)>-1},qe.prototype.set=function(t,n){var e=this.__data__,r=or(e,t);return r<0?(++this.size,e.push([t,n])):e[r][1]=n,this},Ve.prototype.clear=function(){this.size=0,this.__data__={hash:new He,map:new($e||qe),string:new He}},Ve.prototype.delete=function(t){var n=pi(this,t).delete(t);return this.size-=n?1:0,n},Ve.prototype.get=function(t){return pi(this,t).get(t)},Ve.prototype.has=function(t){return pi(this,t).has(t)},Ve.prototype.set=function(t,n){var e=pi(this,t),r=e.size;return e.set(t,n),this.size+=e.size==r?0:1,this},Ze.prototype.add=Ze.prototype.push=function(t){return this.__data__.set(t,o),this},Ze.prototype.has=function(t){return this.__data__.has(t)},Ye.prototype.clear=function(){this.__data__=new qe,this.size=0},Ye.prototype.delete=function(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e},Ye.prototype.get=function(t){return this.__data__.get(t)},Ye.prototype.has=function(t){return this.__data__.has(t)},Ye.prototype.set=function(t,n){var e=this.__data__;if(e instanceof qe){var r=e.__data__;if(!$e||r.length<199)return r.push([t,n]),this.size=++e.size,this;e=this.__data__=new Ve(r)}return e.set(t,n),this.size=e.size,this};var vr=Uo(kr),gr=Uo(xr,!0);function dr(t,n){var e=!0;return vr(t,(function(t,r,o){return e=!!n(t,r,o)})),e}function yr(t,n,r){for(var o=-1,i=t.length;++o<i;){var u=t[o],a=n(u);if(null!=a&&(c===e?a==a&&!la(a):r(a,c)))var c=a,f=u}return f}function _r(t,n){var e=[];return vr(t,(function(t,r,o){n(t,r,o)&&e.push(t)})),e}function mr(t,n,e,r,o){var i=-1,u=t.length;for(e||(e=bi),o||(o=[]);++i<u;){var a=t[i];n>0&&e(a)?n>1?mr(a,n-1,e,r,o):Nn(o,a):r||(o[o.length]=a)}return o}var br=Ro(),wr=Ro(!0);function kr(t,n){return t&&br(t,n,Na)}function xr(t,n){return t&&wr(t,n,Na)}function Sr(t,n){return En(n,(function(n){return ta(t[n])}))}function Ar(t,n){for(var r=0,o=(n=ko(n,t)).length;null!=t&&r<o;)t=t[Gi(n[r++])];return r&&r==o?t:e}function jr(t,n,e){var r=n(t);return Hu(t)?r:Nn(r,e(t))}function $r(t){return null==t?t===e?"[object Undefined]":"[object Null]":cn&&cn in $t(t)?function(t){var n=Ut.call(t,cn),r=t[cn];try{t[cn]=e;var o=!0}catch(t){}var i=Pt.call(t);o&&(n?t[cn]=r:delete t[cn]);return i}(t):function(t){return Pt.call(t)}(t)}function Or(t,n){return t>n}function Tr(t,n){return null!=t&&Ut.call(t,n)}function Er(t,n){return null!=t&&n in $t(t)}function Dr(t,n,r){for(var o=r?Cn:Dn,i=t[0].length,u=t.length,a=u,c=ut(u),f=1/0,s=[];a--;){var l=t[a];a&&n&&(l=Bn(l,Yn(n))),f=we(l.length,f),c[a]=!r&&(n||i>=120&&l.length>=120)?new Ze(a&&l):e}l=t[0];var p=-1,h=c[0];t:for(;++p<i&&s.length<f;){var v=l[p],g=n?n(v):v;if(v=r||0!==v?v:0,!(h?Xn(h,g):o(s,g,r))){for(a=u;--a;){var d=c[a];if(!(d?Xn(d,g):o(t[a],g,r)))continue t}h&&h.push(g),s.push(v)}}return s}function Cr(t,n,r){var o=null==(t=Ei(t,n=ko(n,t)))?t:t[Gi(Xi(n))];return null==o?e:An(o,t,r)}function Br(t){return oa(t)&&$r(t)==d}function Nr(t,n,r,o,i){return t===n||(null==t||null==n||!oa(t)&&!oa(n)?t!=t&&n!=n:function(t,n,r,o,i,u){var a=Hu(t),c=Hu(n),f=a?y:yi(t),s=c?y:yi(n),l=(f=f==d?A:f)==A,p=(s=s==d?A:s)==A,h=f==s;if(h&&Yu(t)){if(!Yu(n))return!1;a=!0,l=!1}if(h&&!l)return u||(u=new Ye),a||pa(t)?oi(t,n,r,o,i,u):function(t,n,e,r,o,i,u){switch(e){case B:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case C:return!(t.byteLength!=n.byteLength||!i(new Ft(t),new Ft(n)));case _:case m:case S:return Wu(+t,+n);case b:return t.name==n.name&&t.message==n.message;case $:case T:return t==n+"";case x:var a=ae;case O:var c=1&r;if(a||(a=se),t.size!=n.size&&!c)return!1;var f=u.get(t);if(f)return f==n;r|=2,u.set(t,n);var s=oi(a(t),a(n),r,o,i,u);return u.delete(t),s;case E:if(Ge)return Ge.call(t)==Ge.call(n)}return!1}(t,n,f,r,o,i,u);if(!(1&r)){var v=l&&Ut.call(t,"__wrapped__"),g=p&&Ut.call(n,"__wrapped__");if(v||g){var w=v?t.value():t,k=g?n.value():n;return u||(u=new Ye),i(w,k,r,o,u)}}if(!h)return!1;return u||(u=new Ye),function(t,n,r,o,i,u){var a=1&r,c=ui(t),f=c.length,s=ui(n).length;if(f!=s&&!a)return!1;var l=f;for(;l--;){var p=c[l];if(!(a?p in n:Ut.call(n,p)))return!1}var h=u.get(t),v=u.get(n);if(h&&v)return h==n&&v==t;var g=!0;u.set(t,n),u.set(n,t);var d=a;for(;++l<f;){var y=t[p=c[l]],_=n[p];if(o)var m=a?o(_,y,p,n,t,u):o(y,_,p,t,n,u);if(!(m===e?y===_||i(y,_,r,o,u):m)){g=!1;break}d||(d="constructor"==p)}if(g&&!d){var b=t.constructor,w=n.constructor;b==w||!("constructor"in t)||!("constructor"in n)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(g=!1)}return u.delete(t),u.delete(n),g}(t,n,r,o,i,u)}(t,n,r,o,Nr,i))}function Ir(t,n,r,o){var i=r.length,u=i,a=!o;if(null==t)return!u;for(t=$t(t);i--;){var c=r[i];if(a&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<u;){var f=(c=r[i])[0],s=t[f],l=c[1];if(a&&c[2]){if(s===e&&!(f in t))return!1}else{var p=new Ye;if(o)var h=o(s,l,f,t,n,p);if(!(h===e?Nr(l,s,3,o,p):h))return!1}}return!0}function Ur(t){return!(!ra(t)||(n=t,zt&&zt in n))&&(ta(t)?Mt:yt).test(Li(t));var n}function Rr(t){return"function"==typeof t?t:null==t?uc:"object"==typeof t?Hu(t)?Wr(t[0],t[1]):Mr(t):gc(t)}function zr(t){if(!ji(t))return me(t);var n=[];for(var e in $t(t))Ut.call(t,e)&&"constructor"!=e&&n.push(e);return n}function Pr(t){if(!ra(t))return function(t){var n=[];if(null!=t)for(var e in $t(t))n.push(e);return n}(t);var n=ji(t),e=[];for(var r in t)("constructor"!=r||!n&&Ut.call(t,r))&&e.push(r);return e}function Gr(t,n){return t<n}function Lr(t,n){var e=-1,r=Vu(t)?ut(t.length):[];return vr(t,(function(t,o,i){r[++e]=n(t,o,i)})),r}function Mr(t){var n=hi(t);return 1==n.length&&n[0][2]?Oi(n[0][0],n[0][1]):function(e){return e===t||Ir(e,t,n)}}function Wr(t,n){return xi(t)&&$i(n)?Oi(Gi(t),n):function(r){var o=Ta(r,t);return o===e&&o===n?Ea(r,t):Nr(n,o,3)}}function Jr(t,n,r,o,i){t!==n&&br(n,(function(u,a){if(i||(i=new Ye),ra(u))!function(t,n,r,o,i,u,a){var c=Ci(t,r),f=Ci(n,r),s=a.get(f);if(s)return void er(t,r,s);var l=u?u(c,f,r+"",t,n,a):e,p=l===e;if(p){var h=Hu(f),v=!h&&Yu(f),g=!h&&!v&&pa(f);l=f,h||v||g?Hu(c)?l=c:Zu(c)?l=Co(c):v?(p=!1,l=jo(f,!0)):g?(p=!1,l=Oo(f,!0)):l=[]:aa(f)||Ku(f)?(l=c,Ku(c)?l=ba(c):ra(c)&&!ta(c)||(l=mi(f))):p=!1}p&&(a.set(f,l),i(l,f,o,u,a),a.delete(f));er(t,r,l)}(t,n,a,r,Jr,o,i);else{var c=o?o(Ci(t,a),u,a+"",t,n,i):e;c===e&&(c=u),er(t,a,c)}}),Ia)}function Fr(t,n){var r=t.length;if(r)return wi(n+=n<0?r:0,r)?t[n]:e}function Kr(t,n,e){n=n.length?Bn(n,(function(t){return Hu(t)?function(n){return Ar(n,1===t.length?t[0]:t)}:t})):[uc];var r=-1;n=Bn(n,Yn(li()));var o=Lr(t,(function(t,e,o){var i=Bn(n,(function(n){return n(t)}));return{criteria:i,index:++r,value:t}}));return function(t,n){var e=t.length;for(t.sort(n);e--;)t[e]=t[e].value;return t}(o,(function(t,n){return function(t,n,e){var r=-1,o=t.criteria,i=n.criteria,u=o.length,a=e.length;for(;++r<u;){var c=To(o[r],i[r]);if(c)return r>=a?c:c*("desc"==e[r]?-1:1)}return t.index-n.index}(t,n,e)}))}function Hr(t,n,e){for(var r=-1,o=n.length,i={};++r<o;){var u=n[r],a=Ar(t,u);e(a,u)&&no(i,ko(u,t),a)}return i}function qr(t,n,e,r){var o=r?Mn:Ln,i=-1,u=n.length,a=t;for(t===n&&(n=Co(n)),e&&(a=Bn(t,Yn(e)));++i<u;)for(var c=0,f=n[i],s=e?e(f):f;(c=o(a,s,c,r))>-1;)a!==t&&Zt.call(a,c,1),Zt.call(t,c,1);return t}function Vr(t,n){for(var e=t?n.length:0,r=e-1;e--;){var o=n[e];if(e==r||o!==i){var i=o;wi(o)?Zt.call(t,o,1):ho(t,o)}}return t}function Zr(t,n){return t+_n(Se()*(n-t+1))}function Yr(t,n){var e="";if(!t||n<1||n>p)return e;do{n%2&&(e+=t),(n=_n(n/2))&&(t+=t)}while(n);return e}function Qr(t,n){return Ii(Ti(t,n,uc),t+"")}function Xr(t){return Xe(Wa(t))}function to(t,n){var e=Wa(t);return zi(e,fr(n,0,e.length))}function no(t,n,r,o){if(!ra(t))return t;for(var i=-1,u=(n=ko(n,t)).length,a=u-1,c=t;null!=c&&++i<u;){var f=Gi(n[i]),s=r;if("__proto__"===f||"constructor"===f||"prototype"===f)return t;if(i!=a){var l=c[f];(s=o?o(l,f,c):e)===e&&(s=ra(l)?l:wi(n[i+1])?[]:{})}rr(c,f,s),c=c[f]}return t}var eo=Ce?function(t,n){return Ce.set(t,n),t}:uc,ro=ln?function(t,n){return ln(t,"toString",{configurable:!0,enumerable:!1,value:rc(n),writable:!0})}:uc;function oo(t){return zi(Wa(t))}function io(t,n,e){var r=-1,o=t.length;n<0&&(n=-n>o?0:o+n),(e=e>o?o:e)<0&&(e+=o),o=n>e?0:e-n>>>0,n>>>=0;for(var i=ut(o);++r<o;)i[r]=t[r+n];return i}function uo(t,n){var e;return vr(t,(function(t,r,o){return!(e=n(t,r,o))})),!!e}function ao(t,n,e){var r=0,o=null==t?r:t.length;if("number"==typeof n&&n==n&&o<=2147483647){for(;r<o;){var i=r+o>>>1,u=t[i];null!==u&&!la(u)&&(e?u<=n:u<n)?r=i+1:o=i}return o}return co(t,n,uc,e)}function co(t,n,r,o){var i=0,u=null==t?0:t.length;if(0===u)return 0;for(var a=(n=r(n))!=n,c=null===n,f=la(n),s=n===e;i<u;){var l=_n((i+u)/2),p=r(t[l]),h=p!==e,v=null===p,g=p==p,d=la(p);if(a)var y=o||g;else y=s?g&&(o||h):c?g&&h&&(o||!v):f?g&&h&&!v&&(o||!d):!v&&!d&&(o?p<=n:p<n);y?i=l+1:u=l}return we(u,4294967294)}function fo(t,n){for(var e=-1,r=t.length,o=0,i=[];++e<r;){var u=t[e],a=n?n(u):u;if(!e||!Wu(a,c)){var c=a;i[o++]=0===u?0:u}}return i}function so(t){return"number"==typeof t?t:la(t)?h:+t}function lo(t){if("string"==typeof t)return t;if(Hu(t))return Bn(t,lo)+"";if(la(t))return Le?Le.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}function po(t,n,e){var r=-1,o=Dn,i=t.length,u=!0,a=[],c=a;if(e)u=!1,o=Cn;else if(i>=200){var f=n?null:Qo(t);if(f)return se(f);u=!1,o=Xn,c=new Ze}else c=n?[]:a;t:for(;++r<i;){var s=t[r],l=n?n(s):s;if(s=e||0!==s?s:0,u&&l==l){for(var p=c.length;p--;)if(c[p]===l)continue t;n&&c.push(l),a.push(s)}else o(c,l,e)||(c!==a&&c.push(l),a.push(s))}return a}function ho(t,n){return null==(t=Ei(t,n=ko(n,t)))||delete t[Gi(Xi(n))]}function vo(t,n,e,r){return no(t,n,e(Ar(t,n)),r)}function go(t,n,e,r){for(var o=t.length,i=r?o:-1;(r?i--:++i<o)&&n(t[i],i,t););return e?io(t,r?0:i,r?i+1:o):io(t,r?i+1:0,r?o:i)}function yo(t,n){var e=t;return e instanceof Ke&&(e=e.value()),In(n,(function(t,n){return n.func.apply(n.thisArg,Nn([t],n.args))}),e)}function _o(t,n,e){var r=t.length;if(r<2)return r?po(t[0]):[];for(var o=-1,i=ut(r);++o<r;)for(var u=t[o],a=-1;++a<r;)a!=o&&(i[o]=hr(i[o]||u,t[a],n,e));return po(mr(i,1),n,e)}function mo(t,n,r){for(var o=-1,i=t.length,u=n.length,a={};++o<i;){var c=o<u?n[o]:e;r(a,t[o],c)}return a}function bo(t){return Zu(t)?t:[]}function wo(t){return"function"==typeof t?t:uc}function ko(t,n){return Hu(t)?t:xi(t,n)?[t]:Pi(wa(t))}var xo=Qr;function So(t,n,r){var o=t.length;return r=r===e?o:r,!n&&r>=o?t:io(t,n,r)}var Ao=pn||function(t){return hn.clearTimeout(t)};function jo(t,n){if(n)return t.slice();var e=t.length,r=Kt?Kt(e):new t.constructor(e);return t.copy(r),r}function $o(t){var n=new t.constructor(t.byteLength);return new Ft(n).set(new Ft(t)),n}function Oo(t,n){var e=n?$o(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}function To(t,n){if(t!==n){var r=t!==e,o=null===t,i=t==t,u=la(t),a=n!==e,c=null===n,f=n==n,s=la(n);if(!c&&!s&&!u&&t>n||u&&a&&f&&!c&&!s||o&&a&&f||!r&&f||!i)return 1;if(!o&&!u&&!s&&t<n||s&&r&&i&&!o&&!u||c&&r&&i||!a&&i||!f)return-1}return 0}function Eo(t,n,e,r){for(var o=-1,i=t.length,u=e.length,a=-1,c=n.length,f=be(i-u,0),s=ut(c+f),l=!r;++a<c;)s[a]=n[a];for(;++o<u;)(l||o<i)&&(s[e[o]]=t[o]);for(;f--;)s[a++]=t[o++];return s}function Do(t,n,e,r){for(var o=-1,i=t.length,u=-1,a=e.length,c=-1,f=n.length,s=be(i-a,0),l=ut(s+f),p=!r;++o<s;)l[o]=t[o];for(var h=o;++c<f;)l[h+c]=n[c];for(;++u<a;)(p||o<i)&&(l[h+e[u]]=t[o++]);return l}function Co(t,n){var e=-1,r=t.length;for(n||(n=ut(r));++e<r;)n[e]=t[e];return n}function Bo(t,n,r,o){var i=!r;r||(r={});for(var u=-1,a=n.length;++u<a;){var c=n[u],f=o?o(r[c],t[c],c,r,t):e;f===e&&(f=t[c]),i?ar(r,c,f):rr(r,c,f)}return r}function No(t,n){return function(e,r){var o=Hu(e)?jn:ir,i=n?n():{};return o(e,t,li(r,2),i)}}function Io(t){return Qr((function(n,r){var o=-1,i=r.length,u=i>1?r[i-1]:e,a=i>2?r[2]:e;for(u=t.length>3&&"function"==typeof u?(i--,u):e,a&&ki(r[0],r[1],a)&&(u=i<3?e:u,i=1),n=$t(n);++o<i;){var c=r[o];c&&t(n,c,o,u)}return n}))}function Uo(t,n){return function(e,r){if(null==e)return e;if(!Vu(e))return t(e,r);for(var o=e.length,i=n?o:-1,u=$t(e);(n?i--:++i<o)&&!1!==r(u[i],i,u););return e}}function Ro(t){return function(n,e,r){for(var o=-1,i=$t(n),u=r(n),a=u.length;a--;){var c=u[t?a:++o];if(!1===e(i[c],c,i))break}return n}}function zo(t){return function(n){var r=ue(n=wa(n))?he(n):e,o=r?r[0]:n.charAt(0),i=r?So(r,1).join(""):n.slice(1);return o[t]()+i}}function Po(t){return function(n){return In(tc(Ka(n).replace(Yt,"")),t,"")}}function Go(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var e=We(t.prototype),r=t.apply(e,n);return ra(r)?r:e}}function Lo(t){return function(n,r,o){var i=$t(n);if(!Vu(n)){var u=li(r,3);n=Na(n),r=function(t){return u(i[t],t,i)}}var a=t(n,r,o);return a>-1?i[u?n[a]:a]:e}}function Mo(t){return ii((function(n){var o=n.length,i=o,u=Fe.prototype.thru;for(t&&n.reverse();i--;){var a=n[i];if("function"!=typeof a)throw new Et(r);if(u&&!c&&"wrapper"==fi(a))var c=new Fe([],!0)}for(i=c?i:o;++i<o;){var f=fi(a=n[i]),s="wrapper"==f?ci(a):e;c=s&&Si(s[0])&&424==s[1]&&!s[4].length&&1==s[9]?c[fi(s[0])].apply(c,s[3]):1==a.length&&Si(a)?c[f]():c.thru(a)}return function(){var t=arguments,e=t[0];if(c&&1==t.length&&Hu(e))return c.plant(e).value();for(var r=0,i=o?n[r].apply(this,t):e;++r<o;)i=n[r].call(this,i);return i}}))}function Wo(t,n,r,o,i,u,a,c,s,l){var p=n&f,h=1&n,v=2&n,g=24&n,d=512&n,y=v?e:Go(t);return function e(){for(var f=arguments.length,_=ut(f),m=f;m--;)_[m]=arguments[m];if(g)var b=si(e),w=ee(_,b);if(o&&(_=Eo(_,o,i,g)),u&&(_=Do(_,u,a,g)),f-=w,g&&f<l){var k=fe(_,b);return Zo(t,n,Wo,e.placeholder,r,_,k,c,s,l-f)}var x=h?r:this,S=v?x[t]:t;return f=_.length,c?_=Di(_,c):d&&f>1&&_.reverse(),p&&s<f&&(_.length=s),this&&this!==hn&&this instanceof e&&(S=y||Go(S)),S.apply(x,_)}}function Jo(t,n){return function(e,r){return function(t,n,e,r){return kr(t,(function(t,o,i){n(r,e(t),o,i)})),r}(e,t,n(r),{})}}function Fo(t,n){return function(r,o){var i;if(r===e&&o===e)return n;if(r!==e&&(i=r),o!==e){if(i===e)return o;"string"==typeof r||"string"==typeof o?(r=lo(r),o=lo(o)):(r=so(r),o=so(o)),i=t(r,o)}return i}}function Ko(t){return ii((function(n){return n=Bn(n,Yn(li())),Qr((function(e){var r=this;return t(n,(function(t){return An(t,r,e)}))}))}))}function Ho(t,n){var r=(n=n===e?" ":lo(n)).length;if(r<2)return r?Yr(n,t):n;var o=Yr(n,yn(t/pe(n)));return ue(n)?So(he(o),0,t).join(""):o.slice(0,t)}function qo(t){return function(n,r,o){return o&&"number"!=typeof o&&ki(n,r,o)&&(r=o=e),n=da(n),r===e?(r=n,n=0):r=da(r),function(t,n,e,r){for(var o=-1,i=be(yn((n-t)/(e||1)),0),u=ut(i);i--;)u[r?i:++o]=t,t+=e;return u}(n,r,o=o===e?n<r?1:-1:da(o),t)}}function Vo(t){return function(n,e){return"string"==typeof n&&"string"==typeof e||(n=ma(n),e=ma(e)),t(n,e)}}function Zo(t,n,r,o,i,u,f,s,l,p){var h=8&n;n|=h?a:c,4&(n&=~(h?c:a))||(n&=-4);var v=[t,n,i,h?u:e,h?f:e,h?e:u,h?e:f,s,l,p],g=r.apply(e,v);return Si(t)&&Bi(g,v),g.placeholder=o,Ui(g,t,n)}function Yo(t){var n=jt[t];return function(t,e){if(t=ma(t),(e=null==e?0:we(ya(e),292))&&ye(t)){var r=(wa(t)+"e").split("e");return+((r=(wa(n(r[0]+"e"+(+r[1]+e)))+"e").split("e"))[0]+"e"+(+r[1]-e))}return n(t)}}var Qo=Te&&1/se(new Te([,-0]))[1]==l?function(t){return new Te(t)}:lc;function Xo(t){return function(n){var e=yi(n);return e==x?ae(n):e==O?le(n):function(t,n){return Bn(n,(function(n){return[n,t[n]]}))}(n,t(n))}}function ti(t,n,o,l,p,h,v,g){var d=2&n;if(!d&&"function"!=typeof t)throw new Et(r);var y=l?l.length:0;if(y||(n&=-97,l=p=e),v=v===e?v:be(ya(v),0),g=g===e?g:ya(g),y-=p?p.length:0,n&c){var _=l,m=p;l=p=e}var b=d?e:ci(t),w=[t,n,o,l,p,_,m,h,v,g];if(b&&function(t,n){var e=t[1],r=n[1],o=e|r,u=o<131,a=r==f&&8==e||r==f&&e==s&&t[7].length<=n[8]||384==r&&n[7].length<=n[8]&&8==e;if(!u&&!a)return t;1&r&&(t[2]=n[2],o|=1&e?0:4);var c=n[3];if(c){var l=t[3];t[3]=l?Eo(l,c,n[4]):c,t[4]=l?fe(t[3],i):n[4]}(c=n[5])&&(l=t[5],t[5]=l?Do(l,c,n[6]):c,t[6]=l?fe(t[5],i):n[6]);(c=n[7])&&(t[7]=c);r&f&&(t[8]=null==t[8]?n[8]:we(t[8],n[8]));null==t[9]&&(t[9]=n[9]);t[0]=n[0],t[1]=o}(w,b),t=w[0],n=w[1],o=w[2],l=w[3],p=w[4],!(g=w[9]=w[9]===e?d?0:t.length:be(w[9]-y,0))&&24&n&&(n&=-25),n&&1!=n)k=8==n||n==u?function(t,n,r){var o=Go(t);return function i(){for(var u=arguments.length,a=ut(u),c=u,f=si(i);c--;)a[c]=arguments[c];var s=u<3&&a[0]!==f&&a[u-1]!==f?[]:fe(a,f);return(u-=s.length)<r?Zo(t,n,Wo,i.placeholder,e,a,s,e,e,r-u):An(this&&this!==hn&&this instanceof i?o:t,this,a)}}(t,n,g):n!=a&&33!=n||p.length?Wo.apply(e,w):function(t,n,e,r){var o=1&n,i=Go(t);return function n(){for(var u=-1,a=arguments.length,c=-1,f=r.length,s=ut(f+a),l=this&&this!==hn&&this instanceof n?i:t;++c<f;)s[c]=r[c];for(;a--;)s[c++]=arguments[++u];return An(l,o?e:this,s)}}(t,n,o,l);else var k=function(t,n,e){var r=1&n,o=Go(t);return function n(){return(this&&this!==hn&&this instanceof n?o:t).apply(r?e:this,arguments)}}(t,n,o);return Ui((b?eo:Bi)(k,w),t,n)}function ni(t,n,r,o){return t===e||Wu(t,Bt[r])&&!Ut.call(o,r)?n:t}function ei(t,n,r,o,i,u){return ra(t)&&ra(n)&&(u.set(n,t),Jr(t,n,e,ei,u),u.delete(n)),t}function ri(t){return aa(t)?e:t}function oi(t,n,r,o,i,u){var a=1&r,c=t.length,f=n.length;if(c!=f&&!(a&&f>c))return!1;var s=u.get(t),l=u.get(n);if(s&&l)return s==n&&l==t;var p=-1,h=!0,v=2&r?new Ze:e;for(u.set(t,n),u.set(n,t);++p<c;){var g=t[p],d=n[p];if(o)var y=a?o(d,g,p,n,t,u):o(g,d,p,t,n,u);if(y!==e){if(y)continue;h=!1;break}if(v){if(!Rn(n,(function(t,n){if(!Xn(v,n)&&(g===t||i(g,t,r,o,u)))return v.push(n)}))){h=!1;break}}else if(g!==d&&!i(g,d,r,o,u)){h=!1;break}}return u.delete(t),u.delete(n),h}function ii(t){return Ii(Ti(t,e,qi),t+"")}function ui(t){return jr(t,Na,gi)}function ai(t){return jr(t,Ia,di)}var ci=Ce?function(t){return Ce.get(t)}:lc;function fi(t){for(var n=t.name+"",e=Be[n],r=Ut.call(Be,n)?e.length:0;r--;){var o=e[r],i=o.func;if(null==i||i==t)return o.name}return n}function si(t){return(Ut.call(Me,"placeholder")?Me:t).placeholder}function li(){var t=Me.iteratee||ac;return t=t===ac?Rr:t,arguments.length?t(arguments[0],arguments[1]):t}function pi(t,n){var e,r,o=t.__data__;return("string"==(r=typeof(e=n))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e)?o["string"==typeof n?"string":"hash"]:o.map}function hi(t){for(var n=Na(t),e=n.length;e--;){var r=n[e],o=t[r];n[e]=[r,o,$i(o)]}return n}function vi(t,n){var r=function(t,n){return null==t?e:t[n]}(t,n);return Ur(r)?r:e}var gi=zn?function(t){return null==t?[]:(t=$t(t),En(zn(t),(function(n){return Vt.call(t,n)})))}:_c,di=zn?function(t){for(var n=[];t;)Nn(n,gi(t)),t=Ht(t);return n}:_c,yi=$r;function _i(t,n,e){for(var r=-1,o=(n=ko(n,t)).length,i=!1;++r<o;){var u=Gi(n[r]);if(!(i=null!=t&&e(t,u)))break;t=t[u]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&ea(o)&&wi(u,o)&&(Hu(t)||Ku(t))}function mi(t){return"function"!=typeof t.constructor||ji(t)?{}:We(Ht(t))}function bi(t){return Hu(t)||Ku(t)||!!(Xt&&t&&t[Xt])}function wi(t,n){var e=typeof t;return!!(n=null==n?p:n)&&("number"==e||"symbol"!=e&&mt.test(t))&&t>-1&&t%1==0&&t<n}function ki(t,n,e){if(!ra(e))return!1;var r=typeof n;return!!("number"==r?Vu(e)&&wi(n,e.length):"string"==r&&n in e)&&Wu(e[n],t)}function xi(t,n){if(Hu(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!la(t))||(tt.test(t)||!X.test(t)||null!=n&&t in $t(n))}function Si(t){var n=fi(t),e=Me[n];if("function"!=typeof e||!(n in Ke.prototype))return!1;if(t===e)return!0;var r=ci(e);return!!r&&t===r[0]}(je&&yi(new je(new ArrayBuffer(1)))!=B||$e&&yi(new $e)!=x||Oe&&yi(Oe.resolve())!=j||Te&&yi(new Te)!=O||Ee&&yi(new Ee)!=D)&&(yi=function(t){var n=$r(t),r=n==A?t.constructor:e,o=r?Li(r):"";if(o)switch(o){case Ne:return B;case Ie:return x;case Ue:return j;case Re:return O;case ze:return D}return n});var Ai=Nt?ta:mc;function ji(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||Bt)}function $i(t){return t==t&&!ra(t)}function Oi(t,n){return function(r){return null!=r&&(r[t]===n&&(n!==e||t in $t(r)))}}function Ti(t,n,r){return n=be(n===e?t.length-1:n,0),function(){for(var e=arguments,o=-1,i=be(e.length-n,0),u=ut(i);++o<i;)u[o]=e[n+o];o=-1;for(var a=ut(n+1);++o<n;)a[o]=e[o];return a[n]=r(u),An(t,this,a)}}function Ei(t,n){return n.length<2?t:Ar(t,io(n,0,-1))}function Di(t,n){for(var r=t.length,o=we(n.length,r),i=Co(t);o--;){var u=n[o];t[o]=wi(u,r)?i[u]:e}return t}function Ci(t,n){if(("constructor"!==n||"function"!=typeof t[n])&&"__proto__"!=n)return t[n]}var Bi=Ri(eo),Ni=gn||function(t,n){return hn.setTimeout(t,n)},Ii=Ri(ro);function Ui(t,n,e){var r=n+"";return Ii(t,function(t,n){var e=n.length;if(!e)return t;var r=e-1;return n[r]=(e>1?"& ":"")+n[r],n=n.join(e>2?", ":" "),t.replace(at,"{\n/* [wrapped with "+n+"] */\n")}(r,function(t,n){return $n(g,(function(e){var r="_."+e[0];n&e[1]&&!Dn(t,r)&&t.push(r)})),t.sort()}(function(t){var n=t.match(ct);return n?n[1].split(ft):[]}(r),e)))}function Ri(t){var n=0,r=0;return function(){var o=ke(),i=16-(o-r);if(r=o,i>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(e,arguments)}}function zi(t,n){var r=-1,o=t.length,i=o-1;for(n=n===e?o:n;++r<n;){var u=Zr(r,i),a=t[u];t[u]=t[r],t[r]=a}return t.length=n,t}var Pi=function(t){var n=Ru(t,(function(t){return 500===e.size&&e.clear(),t})),e=n.cache;return n}((function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(et,(function(t,e,r,o){n.push(r?o.replace(pt,"$1"):e||t)})),n}));function Gi(t){if("string"==typeof t||la(t))return t;var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}function Li(t){if(null!=t){try{return It.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Mi(t){if(t instanceof Ke)return t.clone();var n=new Fe(t.__wrapped__,t.__chain__);return n.__actions__=Co(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}var Wi=Qr((function(t,n){return Zu(t)?hr(t,mr(n,1,Zu,!0)):[]})),Ji=Qr((function(t,n){var r=Xi(n);return Zu(r)&&(r=e),Zu(t)?hr(t,mr(n,1,Zu,!0),li(r,2)):[]})),Fi=Qr((function(t,n){var r=Xi(n);return Zu(r)&&(r=e),Zu(t)?hr(t,mr(n,1,Zu,!0),e,r):[]}));function Ki(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var o=null==e?0:ya(e);return o<0&&(o=be(r+o,0)),Gn(t,li(n,3),o)}function Hi(t,n,r){var o=null==t?0:t.length;if(!o)return-1;var i=o-1;return r!==e&&(i=ya(r),i=r<0?be(o+i,0):we(i,o-1)),Gn(t,li(n,3),i,!0)}function qi(t){return(null==t?0:t.length)?mr(t,1):[]}function Vi(t){return t&&t.length?t[0]:e}var Zi=Qr((function(t){var n=Bn(t,bo);return n.length&&n[0]===t[0]?Dr(n):[]})),Yi=Qr((function(t){var n=Xi(t),r=Bn(t,bo);return n===Xi(r)?n=e:r.pop(),r.length&&r[0]===t[0]?Dr(r,li(n,2)):[]})),Qi=Qr((function(t){var n=Xi(t),r=Bn(t,bo);return(n="function"==typeof n?n:e)&&r.pop(),r.length&&r[0]===t[0]?Dr(r,e,n):[]}));function Xi(t){var n=null==t?0:t.length;return n?t[n-1]:e}var tu=Qr(nu);function nu(t,n){return t&&t.length&&n&&n.length?qr(t,n):t}var eu=ii((function(t,n){var e=null==t?0:t.length,r=cr(t,n);return Vr(t,Bn(n,(function(t){return wi(t,e)?+t:t})).sort(To)),r}));function ru(t){return null==t?t:Ae.call(t)}var ou=Qr((function(t){return po(mr(t,1,Zu,!0))})),iu=Qr((function(t){var n=Xi(t);return Zu(n)&&(n=e),po(mr(t,1,Zu,!0),li(n,2))})),uu=Qr((function(t){var n=Xi(t);return n="function"==typeof n?n:e,po(mr(t,1,Zu,!0),e,n)}));function au(t){if(!t||!t.length)return[];var n=0;return t=En(t,(function(t){if(Zu(t))return n=be(t.length,n),!0})),Vn(n,(function(n){return Bn(t,Fn(n))}))}function cu(t,n){if(!t||!t.length)return[];var r=au(t);return null==n?r:Bn(r,(function(t){return An(n,e,t)}))}var fu=Qr((function(t,n){return Zu(t)?hr(t,n):[]})),su=Qr((function(t){return _o(En(t,Zu))})),lu=Qr((function(t){var n=Xi(t);return Zu(n)&&(n=e),_o(En(t,Zu),li(n,2))})),pu=Qr((function(t){var n=Xi(t);return n="function"==typeof n?n:e,_o(En(t,Zu),e,n)})),hu=Qr(au);var vu=Qr((function(t){var n=t.length,r=n>1?t[n-1]:e;return r="function"==typeof r?(t.pop(),r):e,cu(t,r)}));function gu(t){var n=Me(t);return n.__chain__=!0,n}function du(t,n){return n(t)}var yu=ii((function(t){var n=t.length,r=n?t[0]:0,o=this.__wrapped__,i=function(n){return cr(n,t)};return!(n>1||this.__actions__.length)&&o instanceof Ke&&wi(r)?((o=o.slice(r,+r+(n?1:0))).__actions__.push({func:du,args:[i],thisArg:e}),new Fe(o,this.__chain__).thru((function(t){return n&&!t.length&&t.push(e),t}))):this.thru(i)}));var _u=No((function(t,n,e){Ut.call(t,e)?++t[e]:ar(t,e,1)}));var mu=Lo(Ki),bu=Lo(Hi);function wu(t,n){return(Hu(t)?$n:vr)(t,li(n,3))}function ku(t,n){return(Hu(t)?On:gr)(t,li(n,3))}var xu=No((function(t,n,e){Ut.call(t,e)?t[e].push(n):ar(t,e,[n])}));var Su=Qr((function(t,n,e){var r=-1,o="function"==typeof n,i=Vu(t)?ut(t.length):[];return vr(t,(function(t){i[++r]=o?An(n,t,e):Cr(t,n,e)})),i})),Au=No((function(t,n,e){ar(t,e,n)}));function ju(t,n){return(Hu(t)?Bn:Lr)(t,li(n,3))}var $u=No((function(t,n,e){t[e?0:1].push(n)}),(function(){return[[],[]]}));var Ou=Qr((function(t,n){if(null==t)return[];var e=n.length;return e>1&&ki(t,n[0],n[1])?n=[]:e>2&&ki(n[0],n[1],n[2])&&(n=[n[0]]),Kr(t,mr(n,1),[])})),Tu=vn||function(){return hn.Date.now()};function Eu(t,n,r){return n=r?e:n,n=t&&null==n?t.length:n,ti(t,f,e,e,e,e,n)}function Du(t,n){var o;if("function"!=typeof n)throw new Et(r);return t=ya(t),function(){return--t>0&&(o=n.apply(this,arguments)),t<=1&&(n=e),o}}var Cu=Qr((function(t,n,e){var r=1;if(e.length){var o=fe(e,si(Cu));r|=a}return ti(t,r,n,e,o)})),Bu=Qr((function(t,n,e){var r=3;if(e.length){var o=fe(e,si(Bu));r|=a}return ti(n,r,t,e,o)}));function Nu(t,n,o){var i,u,a,c,f,s,l=0,p=!1,h=!1,v=!0;if("function"!=typeof t)throw new Et(r);function g(n){var r=i,o=u;return i=u=e,l=n,c=t.apply(o,r)}function d(t){return l=t,f=Ni(_,n),p?g(t):c}function y(t){var r=t-s;return s===e||r>=n||r<0||h&&t-l>=a}function _(){var t=Tu();if(y(t))return m(t);f=Ni(_,function(t){var e=n-(t-s);return h?we(e,a-(t-l)):e}(t))}function m(t){return f=e,v&&i?g(t):(i=u=e,c)}function b(){var t=Tu(),r=y(t);if(i=arguments,u=this,s=t,r){if(f===e)return d(s);if(h)return Ao(f),f=Ni(_,n),g(s)}return f===e&&(f=Ni(_,n)),c}return n=ma(n)||0,ra(o)&&(p=!!o.leading,a=(h="maxWait"in o)?be(ma(o.maxWait)||0,n):a,v="trailing"in o?!!o.trailing:v),b.cancel=function(){f!==e&&Ao(f),l=0,i=s=u=f=e},b.flush=function(){return f===e?c:m(Tu())},b}var Iu=Qr((function(t,n){return pr(t,1,n)})),Uu=Qr((function(t,n,e){return pr(t,ma(n)||0,e)}));function Ru(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new Et(r);var e=function(){var r=arguments,o=n?n.apply(this,r):r[0],i=e.cache;if(i.has(o))return i.get(o);var u=t.apply(this,r);return e.cache=i.set(o,u)||i,u};return e.cache=new(Ru.Cache||Ve),e}function zu(t){if("function"!=typeof t)throw new Et(r);return function(){var n=arguments;switch(n.length){case 0:return!t.call(this);case 1:return!t.call(this,n[0]);case 2:return!t.call(this,n[0],n[1]);case 3:return!t.call(this,n[0],n[1],n[2])}return!t.apply(this,n)}}Ru.Cache=Ve;var Pu=xo((function(t,n){var e=(n=1==n.length&&Hu(n[0])?Bn(n[0],Yn(li())):Bn(mr(n,1),Yn(li()))).length;return Qr((function(r){for(var o=-1,i=we(r.length,e);++o<i;)r[o]=n[o].call(this,r[o]);return An(t,this,r)}))})),Gu=Qr((function(t,n){var r=fe(n,si(Gu));return ti(t,a,e,n,r)})),Lu=Qr((function(t,n){var r=fe(n,si(Lu));return ti(t,c,e,n,r)})),Mu=ii((function(t,n){return ti(t,s,e,e,e,n)}));function Wu(t,n){return t===n||t!=t&&n!=n}var Ju=Vo(Or),Fu=Vo((function(t,n){return t>=n})),Ku=Br(function(){return arguments}())?Br:function(t){return oa(t)&&Ut.call(t,"callee")&&!Vt.call(t,"callee")},Hu=ut.isArray,qu=mn?Yn(mn):function(t){return oa(t)&&$r(t)==C};function Vu(t){return null!=t&&ea(t.length)&&!ta(t)}function Zu(t){return oa(t)&&Vu(t)}var Yu=Kn||mc,Qu=bn?Yn(bn):function(t){return oa(t)&&$r(t)==m};function Xu(t){if(!oa(t))return!1;var n=$r(t);return n==b||"[object DOMException]"==n||"string"==typeof t.message&&"string"==typeof t.name&&!aa(t)}function ta(t){if(!ra(t))return!1;var n=$r(t);return n==w||n==k||"[object AsyncFunction]"==n||"[object Proxy]"==n}function na(t){return"number"==typeof t&&t==ya(t)}function ea(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=p}function ra(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}function oa(t){return null!=t&&"object"==typeof t}var ia=wn?Yn(wn):function(t){return oa(t)&&yi(t)==x};function ua(t){return"number"==typeof t||oa(t)&&$r(t)==S}function aa(t){if(!oa(t)||$r(t)!=A)return!1;var n=Ht(t);if(null===n)return!0;var e=Ut.call(n,"constructor")&&n.constructor;return"function"==typeof e&&e instanceof e&&It.call(e)==Gt}var ca=kn?Yn(kn):function(t){return oa(t)&&$r(t)==$};var fa=xn?Yn(xn):function(t){return oa(t)&&yi(t)==O};function sa(t){return"string"==typeof t||!Hu(t)&&oa(t)&&$r(t)==T}function la(t){return"symbol"==typeof t||oa(t)&&$r(t)==E}var pa=Sn?Yn(Sn):function(t){return oa(t)&&ea(t.length)&&!!un[$r(t)]};var ha=Vo(Gr),va=Vo((function(t,n){return t<=n}));function ga(t){if(!t)return[];if(Vu(t))return sa(t)?he(t):Co(t);if(nn&&t[nn])return function(t){for(var n,e=[];!(n=t.next()).done;)e.push(n.value);return e}(t[nn]());var n=yi(t);return(n==x?ae:n==O?se:Wa)(t)}function da(t){return t?(t=ma(t))===l||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ya(t){var n=da(t),e=n%1;return n==n?e?n-e:n:0}function _a(t){return t?fr(ya(t),0,v):0}function ma(t){if("number"==typeof t)return t;if(la(t))return h;if(ra(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=ra(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=Zn(t);var e=dt.test(t);return e||_t.test(t)?sn(t.slice(2),e?2:8):gt.test(t)?h:+t}function ba(t){return Bo(t,Ia(t))}function wa(t){return null==t?"":lo(t)}var ka=Io((function(t,n){if(ji(n)||Vu(n))Bo(n,Na(n),t);else for(var e in n)Ut.call(n,e)&&rr(t,e,n[e])})),xa=Io((function(t,n){Bo(n,Ia(n),t)})),Sa=Io((function(t,n,e,r){Bo(n,Ia(n),t,r)})),Aa=Io((function(t,n,e,r){Bo(n,Na(n),t,r)})),ja=ii(cr);var $a=Qr((function(t,n){t=$t(t);var r=-1,o=n.length,i=o>2?n[2]:e;for(i&&ki(n[0],n[1],i)&&(o=1);++r<o;)for(var u=n[r],a=Ia(u),c=-1,f=a.length;++c<f;){var s=a[c],l=t[s];(l===e||Wu(l,Bt[s])&&!Ut.call(t,s))&&(t[s]=u[s])}return t})),Oa=Qr((function(t){return t.push(e,ei),An(Ra,e,t)}));function Ta(t,n,r){var o=null==t?e:Ar(t,n);return o===e?r:o}function Ea(t,n){return null!=t&&_i(t,n,Er)}var Da=Jo((function(t,n,e){null!=n&&"function"!=typeof n.toString&&(n=Pt.call(n)),t[n]=e}),rc(uc)),Ca=Jo((function(t,n,e){null!=n&&"function"!=typeof n.toString&&(n=Pt.call(n)),Ut.call(t,n)?t[n].push(e):t[n]=[e]}),li),Ba=Qr(Cr);function Na(t){return Vu(t)?Qe(t):zr(t)}function Ia(t){return Vu(t)?Qe(t,!0):Pr(t)}var Ua=Io((function(t,n,e){Jr(t,n,e)})),Ra=Io((function(t,n,e,r){Jr(t,n,e,r)})),za=ii((function(t,n){var e={};if(null==t)return e;var r=!1;n=Bn(n,(function(n){return n=ko(n,t),r||(r=n.length>1),n})),Bo(t,ai(t),e),r&&(e=sr(e,7,ri));for(var o=n.length;o--;)ho(e,n[o]);return e}));var Pa=ii((function(t,n){return null==t?{}:function(t,n){return Hr(t,n,(function(n,e){return Ea(t,e)}))}(t,n)}));function Ga(t,n){if(null==t)return{};var e=Bn(ai(t),(function(t){return[t]}));return n=li(n),Hr(t,e,(function(t,e){return n(t,e[0])}))}var La=Xo(Na),Ma=Xo(Ia);function Wa(t){return null==t?[]:Qn(t,Na(t))}var Ja=Po((function(t,n,e){return n=n.toLowerCase(),t+(e?Fa(n):n)}));function Fa(t){return Xa(wa(t).toLowerCase())}function Ka(t){return(t=wa(t))&&t.replace(bt,re).replace(Qt,"")}var Ha=Po((function(t,n,e){return t+(e?"-":"")+n.toLowerCase()})),qa=Po((function(t,n,e){return t+(e?" ":"")+n.toLowerCase()})),Va=zo("toLowerCase");var Za=Po((function(t,n,e){return t+(e?"_":"")+n.toLowerCase()}));var Ya=Po((function(t,n,e){return t+(e?" ":"")+Xa(n)}));var Qa=Po((function(t,n,e){return t+(e?" ":"")+n.toUpperCase()})),Xa=zo("toUpperCase");function tc(t,n,r){return t=wa(t),(n=r?e:n)===e?function(t){return en.test(t)}(t)?function(t){return t.match(tn)||[]}(t):function(t){return t.match(st)||[]}(t):t.match(n)||[]}var nc=Qr((function(t,n){try{return An(t,e,n)}catch(t){return Xu(t)?t:new St(t)}})),ec=ii((function(t,n){return $n(n,(function(n){n=Gi(n),ar(t,n,Cu(t[n],t))})),t}));function rc(t){return function(){return t}}var oc=Mo(),ic=Mo(!0);function uc(t){return t}function ac(t){return Rr("function"==typeof t?t:sr(t,1))}var cc=Qr((function(t,n){return function(e){return Cr(e,t,n)}})),fc=Qr((function(t,n){return function(e){return Cr(t,e,n)}}));function sc(t,n,e){var r=Na(n),o=Sr(n,r);null!=e||ra(n)&&(o.length||!r.length)||(e=n,n=t,t=this,o=Sr(n,Na(n)));var i=!(ra(e)&&"chain"in e&&!e.chain),u=ta(t);return $n(o,(function(e){var r=n[e];t[e]=r,u&&(t.prototype[e]=function(){var n=this.__chain__;if(i||n){var e=t(this.__wrapped__),o=e.__actions__=Co(this.__actions__);return o.push({func:r,args:arguments,thisArg:t}),e.__chain__=n,e}return r.apply(t,Nn([this.value()],arguments))})})),t}function lc(){}var pc=Ko(Bn),hc=Ko(Tn),vc=Ko(Rn);function gc(t){return xi(t)?Fn(Gi(t)):function(t){return function(n){return Ar(n,t)}}(t)}var dc=qo(),yc=qo(!0);function _c(){return[]}function mc(){return!1}var bc=Fo((function(t,n){return t+n}),0),wc=Yo("ceil"),kc=Fo((function(t,n){return t/n}),1),xc=Yo("floor");var Sc,Ac=Fo((function(t,n){return t*n}),1),jc=Yo("round"),$c=Fo((function(t,n){return t-n}),0);return Me.after=function(t,n){if("function"!=typeof n)throw new Et(r);return t=ya(t),function(){if(--t<1)return n.apply(this,arguments)}},Me.ary=Eu,Me.assign=ka,Me.assignIn=xa,Me.assignInWith=Sa,Me.assignWith=Aa,Me.at=ja,Me.before=Du,Me.bind=Cu,Me.bindAll=ec,Me.bindKey=Bu,Me.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Hu(t)?t:[t]},Me.chain=gu,Me.chunk=function(t,n,r){n=(r?ki(t,n,r):n===e)?1:be(ya(n),0);var o=null==t?0:t.length;if(!o||n<1)return[];for(var i=0,u=0,a=ut(yn(o/n));i<o;)a[u++]=io(t,i,i+=n);return a},Me.compact=function(t){for(var n=-1,e=null==t?0:t.length,r=0,o=[];++n<e;){var i=t[n];i&&(o[r++]=i)}return o},Me.concat=function(){var t=arguments.length;if(!t)return[];for(var n=ut(t-1),e=arguments[0],r=t;r--;)n[r-1]=arguments[r];return Nn(Hu(e)?Co(e):[e],mr(n,1))},Me.cond=function(t){var n=null==t?0:t.length,e=li();return t=n?Bn(t,(function(t){if("function"!=typeof t[1])throw new Et(r);return[e(t[0]),t[1]]})):[],Qr((function(e){for(var r=-1;++r<n;){var o=t[r];if(An(o[0],this,e))return An(o[1],this,e)}}))},Me.conforms=function(t){return function(t){var n=Na(t);return function(e){return lr(e,t,n)}}(sr(t,1))},Me.constant=rc,Me.countBy=_u,Me.create=function(t,n){var e=We(t);return null==n?e:ur(e,n)},Me.curry=function t(n,r,o){var i=ti(n,8,e,e,e,e,e,r=o?e:r);return i.placeholder=t.placeholder,i},Me.curryRight=function t(n,r,o){var i=ti(n,u,e,e,e,e,e,r=o?e:r);return i.placeholder=t.placeholder,i},Me.debounce=Nu,Me.defaults=$a,Me.defaultsDeep=Oa,Me.defer=Iu,Me.delay=Uu,Me.difference=Wi,Me.differenceBy=Ji,Me.differenceWith=Fi,Me.drop=function(t,n,r){var o=null==t?0:t.length;return o?io(t,(n=r||n===e?1:ya(n))<0?0:n,o):[]},Me.dropRight=function(t,n,r){var o=null==t?0:t.length;return o?io(t,0,(n=o-(n=r||n===e?1:ya(n)))<0?0:n):[]},Me.dropRightWhile=function(t,n){return t&&t.length?go(t,li(n,3),!0,!0):[]},Me.dropWhile=function(t,n){return t&&t.length?go(t,li(n,3),!0):[]},Me.fill=function(t,n,r,o){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&ki(t,n,r)&&(r=0,o=i),function(t,n,r,o){var i=t.length;for((r=ya(r))<0&&(r=-r>i?0:i+r),(o=o===e||o>i?i:ya(o))<0&&(o+=i),o=r>o?0:_a(o);r<o;)t[r++]=n;return t}(t,n,r,o)):[]},Me.filter=function(t,n){return(Hu(t)?En:_r)(t,li(n,3))},Me.flatMap=function(t,n){return mr(ju(t,n),1)},Me.flatMapDeep=function(t,n){return mr(ju(t,n),l)},Me.flatMapDepth=function(t,n,r){return r=r===e?1:ya(r),mr(ju(t,n),r)},Me.flatten=qi,Me.flattenDeep=function(t){return(null==t?0:t.length)?mr(t,l):[]},Me.flattenDepth=function(t,n){return(null==t?0:t.length)?mr(t,n=n===e?1:ya(n)):[]},Me.flip=function(t){return ti(t,512)},Me.flow=oc,Me.flowRight=ic,Me.fromPairs=function(t){for(var n=-1,e=null==t?0:t.length,r={};++n<e;){var o=t[n];r[o[0]]=o[1]}return r},Me.functions=function(t){return null==t?[]:Sr(t,Na(t))},Me.functionsIn=function(t){return null==t?[]:Sr(t,Ia(t))},Me.groupBy=xu,Me.initial=function(t){return(null==t?0:t.length)?io(t,0,-1):[]},Me.intersection=Zi,Me.intersectionBy=Yi,Me.intersectionWith=Qi,Me.invert=Da,Me.invertBy=Ca,Me.invokeMap=Su,Me.iteratee=ac,Me.keyBy=Au,Me.keys=Na,Me.keysIn=Ia,Me.map=ju,Me.mapKeys=function(t,n){var e={};return n=li(n,3),kr(t,(function(t,r,o){ar(e,n(t,r,o),t)})),e},Me.mapValues=function(t,n){var e={};return n=li(n,3),kr(t,(function(t,r,o){ar(e,r,n(t,r,o))})),e},Me.matches=function(t){return Mr(sr(t,1))},Me.matchesProperty=function(t,n){return Wr(t,sr(n,1))},Me.memoize=Ru,Me.merge=Ua,Me.mergeWith=Ra,Me.method=cc,Me.methodOf=fc,Me.mixin=sc,Me.negate=zu,Me.nthArg=function(t){return t=ya(t),Qr((function(n){return Fr(n,t)}))},Me.omit=za,Me.omitBy=function(t,n){return Ga(t,zu(li(n)))},Me.once=function(t){return Du(2,t)},Me.orderBy=function(t,n,r,o){return null==t?[]:(Hu(n)||(n=null==n?[]:[n]),Hu(r=o?e:r)||(r=null==r?[]:[r]),Kr(t,n,r))},Me.over=pc,Me.overArgs=Pu,Me.overEvery=hc,Me.overSome=vc,Me.partial=Gu,Me.partialRight=Lu,Me.partition=$u,Me.pick=Pa,Me.pickBy=Ga,Me.property=gc,Me.propertyOf=function(t){return function(n){return null==t?e:Ar(t,n)}},Me.pull=tu,Me.pullAll=nu,Me.pullAllBy=function(t,n,e){return t&&t.length&&n&&n.length?qr(t,n,li(e,2)):t},Me.pullAllWith=function(t,n,r){return t&&t.length&&n&&n.length?qr(t,n,e,r):t},Me.pullAt=eu,Me.range=dc,Me.rangeRight=yc,Me.rearg=Mu,Me.reject=function(t,n){return(Hu(t)?En:_r)(t,zu(li(n,3)))},Me.remove=function(t,n){var e=[];if(!t||!t.length)return e;var r=-1,o=[],i=t.length;for(n=li(n,3);++r<i;){var u=t[r];n(u,r,t)&&(e.push(u),o.push(r))}return Vr(t,o),e},Me.rest=function(t,n){if("function"!=typeof t)throw new Et(r);return Qr(t,n=n===e?n:ya(n))},Me.reverse=ru,Me.sampleSize=function(t,n,r){return n=(r?ki(t,n,r):n===e)?1:ya(n),(Hu(t)?tr:to)(t,n)},Me.set=function(t,n,e){return null==t?t:no(t,n,e)},Me.setWith=function(t,n,r,o){return o="function"==typeof o?o:e,null==t?t:no(t,n,r,o)},Me.shuffle=function(t){return(Hu(t)?nr:oo)(t)},Me.slice=function(t,n,r){var o=null==t?0:t.length;return o?(r&&"number"!=typeof r&&ki(t,n,r)?(n=0,r=o):(n=null==n?0:ya(n),r=r===e?o:ya(r)),io(t,n,r)):[]},Me.sortBy=Ou,Me.sortedUniq=function(t){return t&&t.length?fo(t):[]},Me.sortedUniqBy=function(t,n){return t&&t.length?fo(t,li(n,2)):[]},Me.split=function(t,n,r){return r&&"number"!=typeof r&&ki(t,n,r)&&(n=r=e),(r=r===e?v:r>>>0)?(t=wa(t))&&("string"==typeof n||null!=n&&!ca(n))&&!(n=lo(n))&&ue(t)?So(he(t),0,r):t.split(n,r):[]},Me.spread=function(t,n){if("function"!=typeof t)throw new Et(r);return n=null==n?0:be(ya(n),0),Qr((function(e){var r=e[n],o=So(e,0,n);return r&&Nn(o,r),An(t,this,o)}))},Me.tail=function(t){var n=null==t?0:t.length;return n?io(t,1,n):[]},Me.take=function(t,n,r){return t&&t.length?io(t,0,(n=r||n===e?1:ya(n))<0?0:n):[]},Me.takeRight=function(t,n,r){var o=null==t?0:t.length;return o?io(t,(n=o-(n=r||n===e?1:ya(n)))<0?0:n,o):[]},Me.takeRightWhile=function(t,n){return t&&t.length?go(t,li(n,3),!1,!0):[]},Me.takeWhile=function(t,n){return t&&t.length?go(t,li(n,3)):[]},Me.tap=function(t,n){return n(t),t},Me.throttle=function(t,n,e){var o=!0,i=!0;if("function"!=typeof t)throw new Et(r);return ra(e)&&(o="leading"in e?!!e.leading:o,i="trailing"in e?!!e.trailing:i),Nu(t,n,{leading:o,maxWait:n,trailing:i})},Me.thru=du,Me.toArray=ga,Me.toPairs=La,Me.toPairsIn=Ma,Me.toPath=function(t){return Hu(t)?Bn(t,Gi):la(t)?[t]:Co(Pi(wa(t)))},Me.toPlainObject=ba,Me.transform=function(t,n,e){var r=Hu(t),o=r||Yu(t)||pa(t);if(n=li(n,4),null==e){var i=t&&t.constructor;e=o?r?new i:[]:ra(t)&&ta(i)?We(Ht(t)):{}}return(o?$n:kr)(t,(function(t,r,o){return n(e,t,r,o)})),e},Me.unary=function(t){return Eu(t,1)},Me.union=ou,Me.unionBy=iu,Me.unionWith=uu,Me.uniq=function(t){return t&&t.length?po(t):[]},Me.uniqBy=function(t,n){return t&&t.length?po(t,li(n,2)):[]},Me.uniqWith=function(t,n){return n="function"==typeof n?n:e,t&&t.length?po(t,e,n):[]},Me.unset=function(t,n){return null==t||ho(t,n)},Me.unzip=au,Me.unzipWith=cu,Me.update=function(t,n,e){return null==t?t:vo(t,n,wo(e))},Me.updateWith=function(t,n,r,o){return o="function"==typeof o?o:e,null==t?t:vo(t,n,wo(r),o)},Me.values=Wa,Me.valuesIn=function(t){return null==t?[]:Qn(t,Ia(t))},Me.without=fu,Me.words=tc,Me.wrap=function(t,n){return Gu(wo(n),t)},Me.xor=su,Me.xorBy=lu,Me.xorWith=pu,Me.zip=hu,Me.zipObject=function(t,n){return mo(t||[],n||[],rr)},Me.zipObjectDeep=function(t,n){return mo(t||[],n||[],no)},Me.zipWith=vu,Me.entries=La,Me.entriesIn=Ma,Me.extend=xa,Me.extendWith=Sa,sc(Me,Me),Me.add=bc,Me.attempt=nc,Me.camelCase=Ja,Me.capitalize=Fa,Me.ceil=wc,Me.clamp=function(t,n,r){return r===e&&(r=n,n=e),r!==e&&(r=(r=ma(r))==r?r:0),n!==e&&(n=(n=ma(n))==n?n:0),fr(ma(t),n,r)},Me.clone=function(t){return sr(t,4)},Me.cloneDeep=function(t){return sr(t,5)},Me.cloneDeepWith=function(t,n){return sr(t,5,n="function"==typeof n?n:e)},Me.cloneWith=function(t,n){return sr(t,4,n="function"==typeof n?n:e)},Me.conformsTo=function(t,n){return null==n||lr(t,n,Na(n))},Me.deburr=Ka,Me.defaultTo=function(t,n){return null==t||t!=t?n:t},Me.divide=kc,Me.endsWith=function(t,n,r){t=wa(t),n=lo(n);var o=t.length,i=r=r===e?o:fr(ya(r),0,o);return(r-=n.length)>=0&&t.slice(r,i)==n},Me.eq=Wu,Me.escape=function(t){return(t=wa(t))&&V.test(t)?t.replace(H,oe):t},Me.escapeRegExp=function(t){return(t=wa(t))&&ot.test(t)?t.replace(rt,"\\$&"):t},Me.every=function(t,n,r){var o=Hu(t)?Tn:dr;return r&&ki(t,n,r)&&(n=e),o(t,li(n,3))},Me.find=mu,Me.findIndex=Ki,Me.findKey=function(t,n){return Pn(t,li(n,3),kr)},Me.findLast=bu,Me.findLastIndex=Hi,Me.findLastKey=function(t,n){return Pn(t,li(n,3),xr)},Me.floor=xc,Me.forEach=wu,Me.forEachRight=ku,Me.forIn=function(t,n){return null==t?t:br(t,li(n,3),Ia)},Me.forInRight=function(t,n){return null==t?t:wr(t,li(n,3),Ia)},Me.forOwn=function(t,n){return t&&kr(t,li(n,3))},Me.forOwnRight=function(t,n){return t&&xr(t,li(n,3))},Me.get=Ta,Me.gt=Ju,Me.gte=Fu,Me.has=function(t,n){return null!=t&&_i(t,n,Tr)},Me.hasIn=Ea,Me.head=Vi,Me.identity=uc,Me.includes=function(t,n,e,r){t=Vu(t)?t:Wa(t),e=e&&!r?ya(e):0;var o=t.length;return e<0&&(e=be(o+e,0)),sa(t)?e<=o&&t.indexOf(n,e)>-1:!!o&&Ln(t,n,e)>-1},Me.indexOf=function(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var o=null==e?0:ya(e);return o<0&&(o=be(r+o,0)),Ln(t,n,o)},Me.inRange=function(t,n,r){return n=da(n),r===e?(r=n,n=0):r=da(r),function(t,n,e){return t>=we(n,e)&&t<be(n,e)}(t=ma(t),n,r)},Me.invoke=Ba,Me.isArguments=Ku,Me.isArray=Hu,Me.isArrayBuffer=qu,Me.isArrayLike=Vu,Me.isArrayLikeObject=Zu,Me.isBoolean=function(t){return!0===t||!1===t||oa(t)&&$r(t)==_},Me.isBuffer=Yu,Me.isDate=Qu,Me.isElement=function(t){return oa(t)&&1===t.nodeType&&!aa(t)},Me.isEmpty=function(t){if(null==t)return!0;if(Vu(t)&&(Hu(t)||"string"==typeof t||"function"==typeof t.splice||Yu(t)||pa(t)||Ku(t)))return!t.length;var n=yi(t);if(n==x||n==O)return!t.size;if(ji(t))return!zr(t).length;for(var e in t)if(Ut.call(t,e))return!1;return!0},Me.isEqual=function(t,n){return Nr(t,n)},Me.isEqualWith=function(t,n,r){var o=(r="function"==typeof r?r:e)?r(t,n):e;return o===e?Nr(t,n,e,r):!!o},Me.isError=Xu,Me.isFinite=function(t){return"number"==typeof t&&ye(t)},Me.isFunction=ta,Me.isInteger=na,Me.isLength=ea,Me.isMap=ia,Me.isMatch=function(t,n){return t===n||Ir(t,n,hi(n))},Me.isMatchWith=function(t,n,r){return r="function"==typeof r?r:e,Ir(t,n,hi(n),r)},Me.isNaN=function(t){return ua(t)&&t!=+t},Me.isNative=function(t){if(Ai(t))throw new St("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ur(t)},Me.isNil=function(t){return null==t},Me.isNull=function(t){return null===t},Me.isNumber=ua,Me.isObject=ra,Me.isObjectLike=oa,Me.isPlainObject=aa,Me.isRegExp=ca,Me.isSafeInteger=function(t){return na(t)&&t>=-9007199254740991&&t<=p},Me.isSet=fa,Me.isString=sa,Me.isSymbol=la,Me.isTypedArray=pa,Me.isUndefined=function(t){return t===e},Me.isWeakMap=function(t){return oa(t)&&yi(t)==D},Me.isWeakSet=function(t){return oa(t)&&"[object WeakSet]"==$r(t)},Me.join=function(t,n){return null==t?"":_e.call(t,n)},Me.kebabCase=Ha,Me.last=Xi,Me.lastIndexOf=function(t,n,r){var o=null==t?0:t.length;if(!o)return-1;var i=o;return r!==e&&(i=(i=ya(r))<0?be(o+i,0):we(i,o-1)),n==n?function(t,n,e){for(var r=e+1;r--;)if(t[r]===n)return r;return r}(t,n,i):Gn(t,Wn,i,!0)},Me.lowerCase=qa,Me.lowerFirst=Va,Me.lt=ha,Me.lte=va,Me.max=function(t){return t&&t.length?yr(t,uc,Or):e},Me.maxBy=function(t,n){return t&&t.length?yr(t,li(n,2),Or):e},Me.mean=function(t){return Jn(t,uc)},Me.meanBy=function(t,n){return Jn(t,li(n,2))},Me.min=function(t){return t&&t.length?yr(t,uc,Gr):e},Me.minBy=function(t,n){return t&&t.length?yr(t,li(n,2),Gr):e},Me.stubArray=_c,Me.stubFalse=mc,Me.stubObject=function(){return{}},Me.stubString=function(){return""},Me.stubTrue=function(){return!0},Me.multiply=Ac,Me.nth=function(t,n){return t&&t.length?Fr(t,ya(n)):e},Me.noConflict=function(){return hn._===this&&(hn._=Lt),this},Me.noop=lc,Me.now=Tu,Me.pad=function(t,n,e){t=wa(t);var r=(n=ya(n))?pe(t):0;if(!n||r>=n)return t;var o=(n-r)/2;return Ho(_n(o),e)+t+Ho(yn(o),e)},Me.padEnd=function(t,n,e){t=wa(t);var r=(n=ya(n))?pe(t):0;return n&&r<n?t+Ho(n-r,e):t},Me.padStart=function(t,n,e){t=wa(t);var r=(n=ya(n))?pe(t):0;return n&&r<n?Ho(n-r,e)+t:t},Me.parseInt=function(t,n,e){return e||null==n?n=0:n&&(n=+n),xe(wa(t).replace(it,""),n||0)},Me.random=function(t,n,r){if(r&&"boolean"!=typeof r&&ki(t,n,r)&&(n=r=e),r===e&&("boolean"==typeof n?(r=n,n=e):"boolean"==typeof t&&(r=t,t=e)),t===e&&n===e?(t=0,n=1):(t=da(t),n===e?(n=t,t=0):n=da(n)),t>n){var o=t;t=n,n=o}if(r||t%1||n%1){var i=Se();return we(t+i*(n-t+fn("1e-"+((i+"").length-1))),n)}return Zr(t,n)},Me.reduce=function(t,n,e){var r=Hu(t)?In:Hn,o=arguments.length<3;return r(t,li(n,4),e,o,vr)},Me.reduceRight=function(t,n,e){var r=Hu(t)?Un:Hn,o=arguments.length<3;return r(t,li(n,4),e,o,gr)},Me.repeat=function(t,n,r){return n=(r?ki(t,n,r):n===e)?1:ya(n),Yr(wa(t),n)},Me.replace=function(){var t=arguments,n=wa(t[0]);return t.length<3?n:n.replace(t[1],t[2])},Me.result=function(t,n,r){var o=-1,i=(n=ko(n,t)).length;for(i||(i=1,t=e);++o<i;){var u=null==t?e:t[Gi(n[o])];u===e&&(o=i,u=r),t=ta(u)?u.call(t):u}return t},Me.round=jc,Me.runInContext=t,Me.sample=function(t){return(Hu(t)?Xe:Xr)(t)},Me.size=function(t){if(null==t)return 0;if(Vu(t))return sa(t)?pe(t):t.length;var n=yi(t);return n==x||n==O?t.size:zr(t).length},Me.snakeCase=Za,Me.some=function(t,n,r){var o=Hu(t)?Rn:uo;return r&&ki(t,n,r)&&(n=e),o(t,li(n,3))},Me.sortedIndex=function(t,n){return ao(t,n)},Me.sortedIndexBy=function(t,n,e){return co(t,n,li(e,2))},Me.sortedIndexOf=function(t,n){var e=null==t?0:t.length;if(e){var r=ao(t,n);if(r<e&&Wu(t[r],n))return r}return-1},Me.sortedLastIndex=function(t,n){return ao(t,n,!0)},Me.sortedLastIndexBy=function(t,n,e){return co(t,n,li(e,2),!0)},Me.sortedLastIndexOf=function(t,n){if(null==t?0:t.length){var e=ao(t,n,!0)-1;if(Wu(t[e],n))return e}return-1},Me.startCase=Ya,Me.startsWith=function(t,n,e){return t=wa(t),e=null==e?0:fr(ya(e),0,t.length),n=lo(n),t.slice(e,e+n.length)==n},Me.subtract=$c,Me.sum=function(t){return t&&t.length?qn(t,uc):0},Me.sumBy=function(t,n){return t&&t.length?qn(t,li(n,2)):0},Me.template=function(t,n,r){var o=Me.templateSettings;r&&ki(t,n,r)&&(n=e),t=wa(t),n=Sa({},n,o,ni);var i,u,a=Sa({},n.imports,o.imports,ni),c=Na(a),f=Qn(a,c),s=0,l=n.interpolate||wt,p="__p += '",h=Ot((n.escape||wt).source+"|"+l.source+"|"+(l===Q?ht:wt).source+"|"+(n.evaluate||wt).source+"|$","g"),v="//# sourceURL="+(Ut.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++on+"]")+"\n";t.replace(h,(function(n,e,r,o,a,c){return r||(r=o),p+=t.slice(s,c).replace(kt,ie),e&&(i=!0,p+="' +\n__e("+e+") +\n'"),a&&(u=!0,p+="';\n"+a+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),s=c+n.length,n})),p+="';\n";var g=Ut.call(n,"variable")&&n.variable;if(g){if(lt.test(g))throw new St("Invalid `variable` option passed into `_.template`")}else p="with (obj) {\n"+p+"\n}\n";p=(u?p.replace(W,""):p).replace(J,"$1").replace(F,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var d=nc((function(){return At(c,v+"return "+p).apply(e,f)}));if(d.source=p,Xu(d))throw d;return d},Me.times=function(t,n){if((t=ya(t))<1||t>p)return[];var e=v,r=we(t,v);n=li(n),t-=v;for(var o=Vn(r,n);++e<t;)n(e);return o},Me.toFinite=da,Me.toInteger=ya,Me.toLength=_a,Me.toLower=function(t){return wa(t).toLowerCase()},Me.toNumber=ma,Me.toSafeInteger=function(t){return t?fr(ya(t),-9007199254740991,p):0===t?t:0},Me.toString=wa,Me.toUpper=function(t){return wa(t).toUpperCase()},Me.trim=function(t,n,r){if((t=wa(t))&&(r||n===e))return Zn(t);if(!t||!(n=lo(n)))return t;var o=he(t),i=he(n);return So(o,te(o,i),ne(o,i)+1).join("")},Me.trimEnd=function(t,n,r){if((t=wa(t))&&(r||n===e))return t.slice(0,ve(t)+1);if(!t||!(n=lo(n)))return t;var o=he(t);return So(o,0,ne(o,he(n))+1).join("")},Me.trimStart=function(t,n,r){if((t=wa(t))&&(r||n===e))return t.replace(it,"");if(!t||!(n=lo(n)))return t;var o=he(t);return So(o,te(o,he(n))).join("")},Me.truncate=function(t,n){var r=30,o="...";if(ra(n)){var i="separator"in n?n.separator:i;r="length"in n?ya(n.length):r,o="omission"in n?lo(n.omission):o}var u=(t=wa(t)).length;if(ue(t)){var a=he(t);u=a.length}if(r>=u)return t;var c=r-pe(o);if(c<1)return o;var f=a?So(a,0,c).join(""):t.slice(0,c);if(i===e)return f+o;if(a&&(c+=f.length-c),ca(i)){if(t.slice(c).search(i)){var s,l=f;for(i.global||(i=Ot(i.source,wa(vt.exec(i))+"g")),i.lastIndex=0;s=i.exec(l);)var p=s.index;f=f.slice(0,p===e?c:p)}}else if(t.indexOf(lo(i),c)!=c){var h=f.lastIndexOf(i);h>-1&&(f=f.slice(0,h))}return f+o},Me.unescape=function(t){return(t=wa(t))&&q.test(t)?t.replace(K,ge):t},Me.uniqueId=function(t){var n=++Rt;return wa(t)+n},Me.upperCase=Qa,Me.upperFirst=Xa,Me.each=wu,Me.eachRight=ku,Me.first=Vi,sc(Me,(Sc={},kr(Me,(function(t,n){Ut.call(Me.prototype,n)||(Sc[n]=t)})),Sc),{chain:!1}),Me.VERSION="4.17.21",$n(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Me[t].placeholder=Me})),$n(["drop","take"],(function(t,n){Ke.prototype[t]=function(r){r=r===e?1:be(ya(r),0);var o=this.__filtered__&&!n?new Ke(this):this.clone();return o.__filtered__?o.__takeCount__=we(r,o.__takeCount__):o.__views__.push({size:we(r,v),type:t+(o.__dir__<0?"Right":"")}),o},Ke.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}})),$n(["filter","map","takeWhile"],(function(t,n){var e=n+1,r=1==e||3==e;Ke.prototype[t]=function(t){var n=this.clone();return n.__iteratees__.push({iteratee:li(t,3),type:e}),n.__filtered__=n.__filtered__||r,n}})),$n(["head","last"],(function(t,n){var e="take"+(n?"Right":"");Ke.prototype[t]=function(){return this[e](1).value()[0]}})),$n(["initial","tail"],(function(t,n){var e="drop"+(n?"":"Right");Ke.prototype[t]=function(){return this.__filtered__?new Ke(this):this[e](1)}})),Ke.prototype.compact=function(){return this.filter(uc)},Ke.prototype.find=function(t){return this.filter(t).head()},Ke.prototype.findLast=function(t){return this.reverse().find(t)},Ke.prototype.invokeMap=Qr((function(t,n){return"function"==typeof t?new Ke(this):this.map((function(e){return Cr(e,t,n)}))})),Ke.prototype.reject=function(t){return this.filter(zu(li(t)))},Ke.prototype.slice=function(t,n){t=ya(t);var r=this;return r.__filtered__&&(t>0||n<0)?new Ke(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),n!==e&&(r=(n=ya(n))<0?r.dropRight(-n):r.take(n-t)),r)},Ke.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Ke.prototype.toArray=function(){return this.take(v)},kr(Ke.prototype,(function(t,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),o=/^(?:head|last)$/.test(n),i=Me[o?"take"+("last"==n?"Right":""):n],u=o||/^find/.test(n);i&&(Me.prototype[n]=function(){var n=this.__wrapped__,a=o?[1]:arguments,c=n instanceof Ke,f=a[0],s=c||Hu(n),l=function(t){var n=i.apply(Me,Nn([t],a));return o&&p?n[0]:n};s&&r&&"function"==typeof f&&1!=f.length&&(c=s=!1);var p=this.__chain__,h=!!this.__actions__.length,v=u&&!p,g=c&&!h;if(!u&&s){n=g?n:new Ke(this);var d=t.apply(n,a);return d.__actions__.push({func:du,args:[l],thisArg:e}),new Fe(d,p)}return v&&g?t.apply(this,a):(d=this.thru(l),v?o?d.value()[0]:d.value():d)})})),$n(["pop","push","shift","sort","splice","unshift"],(function(t){var n=Dt[t],e=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Me.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var o=this.value();return n.apply(Hu(o)?o:[],t)}return this[e]((function(e){return n.apply(Hu(e)?e:[],t)}))}})),kr(Ke.prototype,(function(t,n){var e=Me[n];if(e){var r=e.name+"";Ut.call(Be,r)||(Be[r]=[]),Be[r].push({name:n,func:e})}})),Be[Wo(e,2).name]=[{name:"wrapper",func:e}],Ke.prototype.clone=function(){var t=new Ke(this.__wrapped__);return t.__actions__=Co(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Co(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Co(this.__views__),t},Ke.prototype.reverse=function(){if(this.__filtered__){var t=new Ke(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Ke.prototype.value=function(){var t=this.__wrapped__.value(),n=this.__dir__,e=Hu(t),r=n<0,o=e?t.length:0,i=function(t,n,e){var r=-1,o=e.length;for(;++r<o;){var i=e[r],u=i.size;switch(i.type){case"drop":t+=u;break;case"dropRight":n-=u;break;case"take":n=we(n,t+u);break;case"takeRight":t=be(t,n-u)}}return{start:t,end:n}}(0,o,this.__views__),u=i.start,a=i.end,c=a-u,f=r?a:u-1,s=this.__iteratees__,l=s.length,p=0,h=we(c,this.__takeCount__);if(!e||!r&&o==c&&h==c)return yo(t,this.__actions__);var v=[];t:for(;c--&&p<h;){for(var g=-1,d=t[f+=n];++g<l;){var y=s[g],_=y.iteratee,m=y.type,b=_(d);if(2==m)d=b;else if(!b){if(1==m)continue t;break t}}v[p++]=d}return v},Me.prototype.at=yu,Me.prototype.chain=function(){return gu(this)},Me.prototype.commit=function(){return new Fe(this.value(),this.__chain__)},Me.prototype.next=function(){this.__values__===e&&(this.__values__=ga(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?e:this.__values__[this.__index__++]}},Me.prototype.plant=function(t){for(var n,r=this;r instanceof Je;){var o=Mi(r);o.__index__=0,o.__values__=e,n?i.__wrapped__=o:n=o;var i=o;r=r.__wrapped__}return i.__wrapped__=t,n},Me.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Ke){var n=t;return this.__actions__.length&&(n=new Ke(this)),(n=n.reverse()).__actions__.push({func:du,args:[ru],thisArg:e}),new Fe(n,this.__chain__)}return this.thru(ru)},Me.prototype.toJSON=Me.prototype.valueOf=Me.prototype.value=function(){return yo(this.__wrapped__,this.__actions__)},Me.prototype.first=Me.prototype.head,nn&&(Me.prototype[nn]=function(){return this}),Me}();gn?((gn.exports=de)._=de,vn._=de):hn._=de}).call(nt)}));function at(t,n,e){const r=t.slice();return r[9]=n[e][0],r[10]=n[e][1],r}function ct(t,n){let e,r,o;return r=new tt({props:{message:n[10],username:n[0]}}),{key:t,first:null,c(){e=h(""),P(r.$$.fragment),this.first=e},m(t,n){s(t,e,n),G(r,t,n),o=!0},p(t,e){n=t;const o={};8&e&&(o.message=n[10]),1&e&&(o.username=n[0]),r.$set(o)},i(t){o||(U(r.$$.fragment,t),o=!0)},o(t){R(r.$$.fragment,t),o=!1},d(t){t&&l(e),L(r,t)}}}function ft(t){let n,e,o,i,u,a,c,y,m,b,w,k,x,S,A,j=[],$=new Map,O=t[3];const T=t=>t[9];for(let n=0;n<O.length;n+=1){let e=at(t,O,n),r=T(e);$.set(r,j[n]=ct(r,e))}return{c(){n=p("div"),e=p("div"),o=p("div");for(let t=0;t<j.length;t+=1)j[t].c();i=v(),u=p("div"),a=v(),c=p("form"),y=p("input"),m=v(),b=p("button"),w=h(">"),d(o,"class","container svelte-1ol9ja5"),d(e,"id","messages"),d(e,"class","svelte-1ol9ja5"),d(y,"type","text"),d(y,"maxlength","100"),d(b,"type","submit"),b.disabled=k=!t[1],d(c,"class","svelte-1ol9ja5"),d(n,"id","chat")},m(r,l){s(r,n,l),f(n,e),f(e,o);for(let t=0;t<j.length;t+=1)j[t].m(o,null);var p;f(e,i),f(e,u),t[6](u),f(n,a),f(n,c),f(c,y),_(y,t[1]),f(c,m),f(c,b),f(b,w),x=!0,S||(A=[g(y,"input",t[7]),g(c,"submit",(p=t[4],function(t){return t.preventDefault(),p.call(this,t)}))],S=!0)},p(t,[n]){9&n&&(O=t[3],N(),j=function(t,n,e,r,o,i,u,a,c,f,s,l){let p=t.length,h=i.length,v=p;const g={};for(;v--;)g[t[v].key]=v;const d=[],y=new Map,_=new Map;for(v=h;v--;){const t=l(o,i,v),a=e(t);let c=u.get(a);c?r&&c.p(t,n):(c=f(a,t),c.c()),y.set(a,d[v]=c),a in g&&_.set(a,Math.abs(v-g[a]))}const m=new Set,b=new Set;function w(t){U(t,1),t.m(a,s),u.set(t.key,t),s=t.first,h--}for(;p&&h;){const n=d[h-1],e=t[p-1],r=n.key,o=e.key;n===e?(s=n.first,p--,h--):y.has(o)?!u.has(r)||m.has(r)?w(n):b.has(o)?p--:_.get(r)>_.get(o)?(b.add(r),w(n)):(m.add(o),p--):(c(e,u),p--)}for(;p--;){const n=t[p];y.has(n.key)||c(n,u)}for(;h;)w(d[h-1]);return d}(j,n,T,1,t,O,$,o,z,ct,null,at),I()),2&n&&y.value!==t[1]&&_(y,t[1]),(!x||2&n&&k!==(k=!t[1]))&&(b.disabled=k)},i(t){if(!x){for(let t=0;t<O.length;t+=1)U(j[t]);x=!0}},o(t){for(let t=0;t<j.length;t+=1)R(j[t]);x=!1},d(e){e&&l(n);for(let t=0;t<j.length;t+=1)j[t].d();t[6](null),S=!1,r(A)}}}function st(t,n,e){let r,o,i,{username:u}=n,a={};const c=ut.debounce((()=>{i?.scrollIntoView({behavior:"auto"})}),300);it.get("testchatnodeid").map().on((function(t,n){t?(e(5,a[n]=t,a),c()):(delete a[n],e(5,a))}));return t.$$set=t=>{"username"in t&&e(0,u=t.username)},t.$$.update=()=>{32&t.$$.dirty&&e(3,r=Object.entries(a))},[u,o,i,r,()=>{it.get("testchatnodeid").set({text:o,author:u,time:(new Date).getTime()}),e(1,o=""),c()},a,function(t){k[t?"unshift":"push"]((()=>{i=t,e(2,i)}))},function(){o=this.value,e(1,o)}]}class lt extends J{constructor(t){super(),W(this,t,st,ft,i,{username:0})}}function pt(n){let e,r;return e=new Y({props:{user:n[1]}}),{c(){P(e.$$.fragment)},m(t,n){G(e,t,n),r=!0},p:t,i(t){r||(U(e.$$.fragment,t),r=!0)},o(t){R(e.$$.fragment,t),r=!1},d(t){L(e,t)}}}function ht(t){let n,e;return n=new lt({props:{username:t[0]}}),{c(){P(n.$$.fragment)},m(t,r){G(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.username=t[0]),n.$set(r)},i(t){e||(U(n.$$.fragment,t),e=!0)},o(t){R(n.$$.fragment,t),e=!1},d(t){L(n,t)}}}function vt(t){let n,e,r,o,i,u,a;e=new q({props:{username:t[0]}}),e.$on("logout",t[2]);const c=[ht,pt],h=[];function g(t,n){return t[0]?0:1}return i=g(t),u=h[i]=c[i](t),{c(){n=p("div"),P(e.$$.fragment),r=v(),o=p("main"),u.c(),d(n,"id","app")},m(t,u){s(t,n,u),G(e,n,null),f(n,r),f(n,o),h[i].m(o,null),a=!0},p(t,[n]){const r={};1&n&&(r.username=t[0]),e.$set(r);let a=i;i=g(t),i===a?h[i].p(t,n):(N(),R(h[a],1,1,(()=>{h[a]=null})),I(),u=h[i],u?u.p(t,n):(u=h[i]=c[i](t),u.c()),U(u,1),u.m(o,null))},i(t){a||(U(e.$$.fragment,t),U(u),a=!0)},o(t){R(e.$$.fragment,t),R(u),a=!1},d(t){t&&l(n),L(e),h[i].d()}}}function gt(t,n,e){let r="";const o=it.user().recall({sessionStorage:!0});o.get("alias").on((t=>e(0,r=t))),it.on("auth",(async()=>{const t=await o.get("alias");e(0,r=t)}));return t.$$.update=()=>{t.$$.dirty},[r,o,()=>{o.leave(),e(0,r="")}]}et((function(t){!function(){function n(t,e){return e?rt(t):t.slice?n[r(t)]:function(e,o){t(e={exports:{}}),n[r(o)]=e.exports};function r(t){return t.split("/").slice(-1).toString().replace(".js","")}}var e=t;n((function(t){"undefined"!=typeof window&&(t.window=window);var n=(t.window||t).SEA||{};(n.window=t.window)&&(n.window.SEA=n);try{undefined+""!=typeof e&&(e.exports=n)}catch(t){}t.exports=n}))(n,"./root"),n((function(t){var e=n("./root");try{e.window&&location.protocol.indexOf("s")<0&&location.host.indexOf("localhost")<0&&!/^127\.\d+\.\d+\.\d+$/.test(location.hostname)&&location.protocol.indexOf("file:")<0&&(console.warn("HTTPS needed for WebCrypto in SEA, redirecting..."),location.protocol="https:")}catch(t){}}))(n,"./https"),n((function(t){var e;if(e+""==typeof btoa){if(e+""==typeof Buffer)try{nt.Buffer=n("buffer",1).Buffer}catch(t){console.log("Please `npm install buffer` or add it to your package.json !")}nt.btoa=function(t){return Buffer.from(t,"binary").toString("base64")},nt.atob=function(t){return Buffer.from(t,"base64").toString("binary")}}}))(n,"./base64"),n((function(t){function e(){}n("./base64"),Object.assign(e,{from:Array.from}),e.prototype=Object.create(Array.prototype),e.prototype.toString=function(t,n,e){t=t||"utf8",n=n||0;const r=this.length;if("hex"===t){const t=new Uint8Array(this);return[...Array((e&&e+1||r)-n).keys()].map((e=>t[e+n].toString(16).padStart(2,"0"))).join("")}return"utf8"===t?Array.from({length:(e||r)-n},((t,e)=>String.fromCharCode(this[e+n]))).join(""):"base64"===t?btoa(this):void 0},t.exports=e}))(n,"./array"),n((function(t){n("./base64");var e=n("./array");function r(...t){return console.warn("new SafeBuffer() is depreciated, please use SafeBuffer.from()"),r.from(...t)}r.prototype=Object.create(Array.prototype),Object.assign(r,{from(){if(!Object.keys(arguments).length||null==arguments[0])throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");const t=arguments[0];let n;if("string"==typeof t){const r=arguments[1]||"utf8";if("hex"===r){const r=t.match(/([\da-fA-F]{2})/g).map((t=>parseInt(t,16)));if(!r||!r.length)throw new TypeError("Invalid first argument for type 'hex'.");n=e.from(r)}else if("utf8"===r||"binary"===r){const r=t.length,o=new Uint16Array(r);Array.from({length:r},((n,e)=>o[e]=t.charCodeAt(e))),n=e.from(o)}else if("base64"===r){const r=atob(t),o=r.length,i=new Uint8Array(o);Array.from({length:o},((t,n)=>i[n]=r.charCodeAt(n))),n=e.from(i)}else"binary"===r?n=e.from(t):console.info("SafeBuffer.from unknown encoding: "+r);return n}t.byteLength;if(t.byteLength?t.byteLength:t.length){let n;return t instanceof ArrayBuffer&&(n=new Uint8Array(t)),e.from(n||t)}},alloc:(t,n=0)=>e.from(new Uint8Array(Array.from({length:t},(()=>n)))),allocUnsafe:t=>e.from(new Uint8Array(Array.from({length:t}))),concat(t){if(!Array.isArray(t))throw new TypeError("First argument must be Array containing ArrayBuffer or Uint8Array instances.");return e.from(t.reduce(((t,n)=>t.concat(Array.from(n))),[]))}}),r.prototype.from=r.from,r.prototype.toString=e.prototype.toString,t.exports=r}))(n,"./buffer"),n((function(t){const r=n("./root"),o={Buffer:n("./buffer")};var i={};if(JSON.parseAsync=JSON.parseAsync||function(t,n,e){try{n(undefined,JSON.parse(t,e))}catch(t){n(t)}},JSON.stringifyAsync=JSON.stringifyAsync||function(t,n,e,r){try{n(undefined,JSON.stringify(t,e,r))}catch(t){n(t)}},o.parse=function(t,n){return new Promise((function(e,r){JSON.parseAsync(t,(function(t,n){t?r(t):e(n)}),n)}))},o.stringify=function(t,n,e){return new Promise((function(r,o){JSON.stringifyAsync(t,(function(t,n){t?o(t):r(n)}),n,e)}))},r.window&&(o.crypto=window.crypto||window.msCrypto,o.subtle=(o.crypto||i).subtle||(o.crypto||i).webkitSubtle,o.TextEncoder=window.TextEncoder,o.TextDecoder=window.TextDecoder,o.random=t=>o.Buffer.from(o.crypto.getRandomValues(new Uint8Array(o.Buffer.alloc(t))))),!o.TextDecoder){const{TextEncoder:t,TextDecoder:r}=n((undefined+""==typeof e?".":"")+"./lib/text-encoding",1);o.TextDecoder=r,o.TextEncoder=t}if(!o.crypto)try{var u=n("crypto",1);Object.assign(o,{crypto:u,random:t=>o.Buffer.from(u.randomBytes(t))});const{Crypto:t}=n("@peculiar/webcrypto",1);o.ossl=o.subtle=new t({directory:"ossl"}).subtle}catch(t){console.log("Please `npm install @peculiar/webcrypto` or add it to your package.json !")}t.exports=o}))(n,"./shim"),n((function(t){var e=n("./root"),r=n("./shim"),o={pbkdf2:{hash:{name:"SHA-256"},iter:1e5,ks:64},ecdsa:{pair:{name:"ECDSA",namedCurve:"P-256"},sign:{name:"ECDSA",hash:{name:"SHA-256"}}},ecdh:{name:"ECDH",namedCurve:"P-256"},jwk:function(t,n){var e={kty:"EC",crv:"P-256",x:(t=t.split("."))[0],y:t[1],ext:!0};return e.key_ops=n?["sign"]:["verify"],n&&(e.d=n),e},keyToJwk:function(t){return{kty:"oct",k:t.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,""),ext:!1,alg:"A256GCM"}},recall:{validity:43200,hook:function(t){return t}},check:function(t){return"string"==typeof t&&"SEA{"===t.slice(0,4)},parse:async function(t){try{var n="string"==typeof t;return n&&"SEA{"===t.slice(0,4)&&(t=t.slice(3)),n?await r.parse(t):t}catch(t){}return t}};e.opt=o,t.exports=o}))(n,"./settings"),n((function(t){var e=n("./shim");t.exports=async function(t,n){var r="string"==typeof t?t:await e.stringify(t),o=await e.subtle.digest({name:n||"SHA-256"},(new e.TextEncoder).encode(r));return e.Buffer.from(o)}}))(n,"./sha256"),n((function(t){const e=n("./shim"),r=e.subtle,o=e.ossl?e.ossl:r;t.exports=t=>o.digest({name:"SHA-1"},new ArrayBuffer(t))}))(n,"./sha1"),n((function(t){var e=n("./root"),r=n("./shim"),o=n("./settings"),i=n("./sha256");e.work=e.work||(async(t,n,u,a)=>{try{var c=(n||{}).epub||n;if(a=a||{},c instanceof Function&&(u=c,c=undefined),t="string"==typeof t?t:await r.stringify(t),"sha"===(a.name||"").toLowerCase().slice(0,3)){var f=r.Buffer.from(await i(t,a.name),"binary").toString(a.encode||"base64");if(u)try{u(f)}catch(t){console.log(t)}return f}c=c||r.random(9);var s=await(r.ossl||r.subtle).importKey("raw",(new r.TextEncoder).encode(t),{name:a.name||"PBKDF2"},!1,["deriveBits"]),l=await(r.ossl||r.subtle).deriveBits({name:a.name||"PBKDF2",iterations:a.iterations||o.pbkdf2.iter,salt:(new r.TextEncoder).encode(a.salt||c),hash:a.hash||o.pbkdf2.hash},s,a.length||8*o.pbkdf2.ks);t=r.random(t.length);var p=r.Buffer.from(l,"binary").toString(a.encode||"base64");if(u)try{u(p)}catch(t){console.log(t)}return p}catch(t){if(console.log(t),e.err=t,e.throw)throw t;return void(u&&u())}}),t.exports=e.work}))(n,"./work"),n((function(t){var e=n("./root"),r=n("./shim");n("./settings"),e.name=e.name||(async(t,n)=>{try{if(t)try{t()}catch(t){console.log(t)}return}catch(n){if(console.log(n),e.err=n,e.throw)throw n;return void(t&&t())}}),e.pair=e.pair||(async(t,n)=>{try{var o=r.ossl||r.subtle,i=await r.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!0,["sign","verify"]).then((async t=>{var n={};n.priv=(await r.subtle.exportKey("jwk",t.privateKey)).d;var e=await r.subtle.exportKey("jwk",t.publicKey);return n.pub=e.x+"."+e.y,n}));try{var u=await o.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"]).then((async t=>{var n={};n.epriv=(await o.exportKey("jwk",t.privateKey)).d;var e=await o.exportKey("jwk",t.publicKey);return n.epub=e.x+"."+e.y,n}))}catch(t){if(e.window)throw t;if("Error: ECDH is not a supported algorithm"!=t)throw t;console.log("Ignoring ECDH...")}u=u||{};var a={pub:i.pub,priv:i.priv,epub:u.epub,epriv:u.epriv};if(t)try{t(a)}catch(t){console.log(t)}return a}catch(n){if(console.log(n),e.err=n,e.throw)throw n;return void(t&&t())}}),t.exports=e.pair}))(n,"./pair"),n((function(t){var e,r=n("./root"),o=n("./shim"),i=n("./settings"),u=n("./sha256");r.sign=r.sign||(async(t,n,a,c)=>{try{if(c=c||{},!(n||c).priv){if(!r.I)throw"No signing key.";n=await r.I(null,{what:t,how:"sign",why:c.why})}if(e===t)throw"`undefined` not allowed.";var f=await i.parse(t),s=c.check=c.check||f;if(r.verify&&(r.opt.check(s)||s&&s.s&&s.m)&&e!==await r.verify(s,n)){var l=await i.parse(s);if(c.raw||(l="SEA"+await o.stringify(l)),a)try{a(l)}catch(t){console.log(t)}return l}var p=n.pub,h=n.priv,v=i.jwk(p,h),g=await u(f),d=await(o.ossl||o.subtle).importKey("jwk",v,{name:"ECDSA",namedCurve:"P-256"},!1,["sign"]).then((t=>(o.ossl||o.subtle).sign({name:"ECDSA",hash:{name:"SHA-256"}},t,new Uint8Array(g))));l={m:f,s:o.Buffer.from(d,"binary").toString(c.encode||"base64")};if(c.raw||(l="SEA"+await o.stringify(l)),a)try{a(l)}catch(t){console.log(t)}return l}catch(t){if(console.log(t),r.err=t,r.throw)throw t;return void(a&&a())}}),t.exports=r.sign}))(n,"./sign"),n((function(t){var e,r=n("./root"),o=n("./shim"),i=n("./settings"),u=n("./sha256");r.verify=r.verify||(async(t,n,a,c)=>{try{var f=await i.parse(t);if(!1===n){var s=await i.parse(f.m);if(a)try{a(s)}catch(t){console.log(t)}return s}c=c||{};var l,p,h,v=n.pub||n,g=r.opt.slow_leak?await r.opt.slow_leak(v):await(o.ossl||o.subtle).importKey("jwk",i.jwk(v),{name:"ECDSA",namedCurve:"P-256"},!1,["verify"]),d=await u(f.m);try{if(l=o.Buffer.from(f.s,c.encode||"base64"),p=new Uint8Array(l),!(h=await(o.ossl||o.subtle).verify({name:"ECDSA",hash:{name:"SHA-256"}},g,p,new Uint8Array(d))))throw"Signature did not match."}catch(e){if(r.opt.fallback)return await r.opt.fall_verify(t,n,a,c)}var y=h?await i.parse(f.m):e;if(a)try{a(y)}catch(t){console.log(t)}return y}catch(t){if(console.log(t),r.err=t,r.throw)throw t;return void(a&&a())}}),t.exports=r.verify;var a={};r.opt.slow_leak=t=>{if(a[t])return a[t];var n=i.jwk(t);return a[t]=(o.ossl||o.subtle).importKey("jwk",n,{name:"ECDSA",namedCurve:"P-256"},!1,["verify"]),a[t]};var c=r.opt;r.opt.fall_verify=async function(t,n,a,f,s){if(s===r.opt.fallback)throw"Signature did not match";s=s||1;var l=t||"";t=r.opt.unpack(t)||t;var p,h,v,g=await i.parse(t),d=n.pub||n,y=await r.opt.slow_leak(d),_=s<=r.opt.fallback?o.Buffer.from(await o.subtle.digest({name:"SHA-256"},(new o.TextEncoder).encode(await i.parse(g.m)))):await u(g.m);try{if(p=o.Buffer.from(g.s,f.encode||"base64"),h=new Uint8Array(p),!(v=await(o.ossl||o.subtle).verify({name:"ECDSA",hash:{name:"SHA-256"}},y,h,new Uint8Array(_))))throw"Signature did not match."}catch(t){try{p=o.Buffer.from(g.s,"utf8"),h=new Uint8Array(p),v=await(o.ossl||o.subtle).verify({name:"ECDSA",hash:{name:"SHA-256"}},y,h,new Uint8Array(_))}catch(t){if(!v)throw"Signature did not match."}}var m=v?await i.parse(g.m):e;if(c.fall_soul=l["#"],c.fall_key=l["."],c.fall_val=t,c.fall_state=l[">"],a)try{a(m)}catch(t){console.log(t)}return m},r.opt.fallback=2}))(n,"./verify"),n((function(t){var e=n("./shim"),r=n("./settings"),o=n("./sha256");t.exports=async(t,n,i)=>{const u=t+(n||e.random(8)).toString("utf8"),a=e.Buffer.from(await o(u),"binary"),c=r.keyToJwk(a);return await e.subtle.importKey("jwk",c,{name:"AES-GCM"},!1,["encrypt","decrypt"])}}))(n,"./aeskey"),n((function(t){var e=n("./root"),r=n("./shim");n("./settings");var o=n("./aeskey");e.encrypt=e.encrypt||(async(t,n,i,u)=>{try{u=u||{};var a=(n||u).epriv||n;if(undefined===t)throw"`undefined` not allowed.";if(!a){if(!e.I)throw"No encryption key.";a=(n=await e.I(null,{what:t,how:"encrypt",why:u.why})).epriv||n}var c="string"==typeof t?t:await r.stringify(t),f={s:r.random(9),iv:r.random(15)},s=await o(a,f.s,u).then((t=>r.subtle.encrypt({name:u.name||"AES-GCM",iv:new Uint8Array(f.iv)},t,(new r.TextEncoder).encode(c)))),l={ct:r.Buffer.from(s,"binary").toString(u.encode||"base64"),iv:f.iv.toString(u.encode||"base64"),s:f.s.toString(u.encode||"base64")};if(u.raw||(l="SEA"+await r.stringify(l)),i)try{i(l)}catch(t){console.log(t)}return l}catch(t){if(console.log(t),e.err=t,e.throw)throw t;return void(i&&i())}}),t.exports=e.encrypt}))(n,"./encrypt"),n((function(t){var e=n("./root"),r=n("./shim"),o=n("./settings"),i=n("./aeskey");e.decrypt=e.decrypt||(async(t,n,u,a)=>{try{a=a||{};var c=(n||a).epriv||n;if(!c){if(!e.I)throw"No decryption key.";c=(n=await e.I(null,{what:t,how:"decrypt",why:a.why})).epriv||n}var f,s,l,p=await o.parse(t);try{f=r.Buffer.from(p.s,a.encode||"base64"),s=r.Buffer.from(p.iv,a.encode||"base64"),l=r.Buffer.from(p.ct,a.encode||"base64");var h=await i(c,f,a).then((t=>r.subtle.decrypt({name:a.name||"AES-GCM",iv:new Uint8Array(s),tagLength:128},t,new Uint8Array(l))))}catch(r){if("utf8"===a.encode)throw"Could not decrypt";if(e.opt.fallback)return a.encode="utf8",await e.decrypt(t,n,u,a)}var v=await o.parse(new r.TextDecoder("utf8").decode(h));if(u)try{u(v)}catch(t){console.log(t)}return v}catch(t){if(console.log(t),e.err=t,e.throw)throw t;return void(u&&u())}}),t.exports=e.decrypt}))(n,"./decrypt"),n((function(t){var e=n("./root"),r=n("./shim");n("./settings"),e.secret=e.secret||(async(t,n,i,u)=>{try{if(u=u||{},!n||!n.epriv||!n.epub){if(!e.I)throw"No secret mix.";n=await e.I(null,{what:t,how:"secret",why:u.why})}var a=t.epub||t,c=n.epub,f=n.epriv,s=r.ossl||r.subtle,l=o(a),p=Object.assign({public:await s.importKey(...l,!0,[])},{name:"ECDH",namedCurve:"P-256"}),h=o(c,f),v=await s.importKey(...h,!1,["deriveBits"]).then((async t=>{var n=await s.deriveBits(p,t,256),e=new Uint8Array(n),r=await s.importKey("raw",e,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]);return s.exportKey("jwk",r).then((({k:t})=>t))}));if(i)try{i(v)}catch(t){console.log(t)}return v}catch(t){if(console.log(t),e.err=t,e.throw)throw t;return void(i&&i())}});var o=(t,n)=>{var[e,r]=t.split("."),o=n?{d:n}:{};return["jwk",Object.assign(o,{x:e,y:r,kty:"EC",crv:"P-256",ext:!0}),{name:"ECDH",namedCurve:"P-256"}]};t.exports=e.secret}))(n,"./secret"),n((function(t){var e=n("./root");e.certify=e.certify||(async(t,n={},r,o,i={})=>{try{if(console.log("SEA.certify() is an early experimental community supported method that may change API behavior without warning in any future version."),!(t=(()=>{var n=[];if(t){if(("string"==typeof t||Array.isArray(t))&&t.indexOf("*")>-1)return"*";if("string"==typeof t)return t;if(Array.isArray(t)){if(1===t.length&&t[0])return"object"==typeof t[0]&&t[0].pub?t[0].pub:"string"==typeof t[0]?t[0]:null;t.map((t=>{"string"==typeof t?n.push(t):"object"==typeof t&&t.pub&&n.push(t.pub)}))}return"object"==typeof t&&t.pub?t.pub:n.length>0?n:null}})()))return console.log("No certificant found.");const a=!i.expiry||"number"!=typeof i.expiry&&"string"!=typeof i.expiry?null:parseFloat(i.expiry),c=(n||{}).read?n.read:null,f=(n||{}).write?n.write:"string"==typeof n||Array.isArray(n)||n["+"]||n["#"]||n["."]||n["="]||n["*"]||n[">"]||n["<"]?n:null,s=(i||{}).block||(i||{}).blacklist||(i||{}).ban||{},l=s.read&&("string"==typeof s.read||(s.read||{})["#"])?s.read:null,p="string"==typeof s?s:s.write&&("string"==typeof s.write||s.write["#"])?s.write:null;if(!c&&!f)return console.log("No policy found.");const h=JSON.stringify({c:t,...a?{e:a}:{},...c?{r:c}:{},...f?{w:f}:{},...l?{rb:l}:{},...p?{wb:p}:{}});var u=await e.sign(h,r,null,{raw:1});if(i.raw||(u="SEA"+JSON.stringify(u)),o)try{o(u)}catch(t){console.log(t)}return u}catch(t){if(e.err=t,e.throw)throw t;return void(o&&o())}}),t.exports=e.certify}))(n,"./certify"),n((function(t){var e=n("./shim"),r=n("./root");r.work=n("./work"),r.sign=n("./sign"),r.verify=n("./verify"),r.encrypt=n("./encrypt"),r.decrypt=n("./decrypt"),r.certify=n("./certify"),r.random=r.random||e.random,r.Buffer=r.Buffer||n("./buffer"),r.keyid=r.keyid||(async t=>{try{const n=e.Buffer.concat(t.replace(/-/g,"+").replace(/_/g,"/").split(".").map((t=>e.Buffer.from(t,"base64")))),r=e.Buffer.concat([e.Buffer.from([153,n.length/256,n.length%256]),n]),o=await sha1hash(r),i=e.Buffer.from(o,"binary");return i.toString("hex",i.length-8)}catch(t){throw console.log(t),t}}),((r.window||{}).GUN||{}).SEA=r,t.exports=r}))(n,"./sea"),n((function(t){var r,o=n("./sea");function i(t){this._={$:this}}function u(){return r.state().toString(36).replace(".","")}r=o.window?o.window.GUN||{chain:{}}:n((undefined+""==typeof e?".":"")+"./gun",1),o.GUN=r,i.prototype=function(){function t(){}return t.prototype=r.chain,new t}(),i.prototype.constructor=i,r.chain.user=function(t){var n,e=this.back(-1);if(t)return t=o.opt.pub((t._||"")["#"])||t,e.get("~"+t);if(n=e.back("user"))return n;var r=e=e._,a=r.opt.uuid||u;return(r=(n=r.user=this.chain(new i))._).opt={},r.opt.uuid=function(t){var n=a(),r=e.user;return r&&(r=r.is)&&(r=r.pub)?(n="~"+r+"/"+n,t&&t.call&&t(null,n),n):n},n},r.User=i,i.GUN=r,i.SEA=r.SEA=o,t.exports=i}))(n,"./user"),n((function(t){var r;(""+r!=typeof window?window.Gun||{chain:{}}:n((""+r==typeof e?".":"")+"./gun",1)).chain.then=function(t,n){var e=this,r=new Promise((function(t,r){e.once(t,n)}));return t?r.then(t):r}}))(n,"./then"),n((function(t){var e=n("./user"),r=e.SEA,o=e.GUN,i=function(){};e.prototype.create=function(...t){var n,e="object"==typeof t[0]&&(t[0].pub||t[0].epub)?t[0]:"object"==typeof t[1]&&(t[1].pub||t[1].epub)?t[1]:null,u=e&&(e.pub||e.epub)?e.pub:"string"==typeof t[0]?t[0]:null,a=e&&(e.pub||e.epub)?e:u&&"string"==typeof t[1]?t[1]:null,c=t.filter((t=>"function"==typeof t))[0]||null,f=t&&t.length>1&&"object"==typeof t[t.length-1]?t[t.length-1]:{},s=this,l=s._,p=s.back(-1);if((c=c||i,!1!==(f=f||{}).check)&&(u||(n="No user."),(a||"").length<8&&(n="Password too short!"),n))return c({err:o.log(n)}),s;if(l.ing)return(c||i)({err:o.log("User is already being created or authenticated!"),wait:!0}),s;l.ing=!0;var h={a:function(t){if(h.pubs=t,t&&!f.already){var n={err:o.log("User already created!")};return l.ing=!1,(c||i)(n),void s.leave()}h.salt=String.random(64),r.work(a,h.salt,h.b)},b:function(t){h.proof=t,e?h.c(e):r.pair(h.c)},c:function(t){var n;h.pair=t||{},(n=l.root.user)&&(n._.sea=t,n.is={pub:t.pub,epub:t.epub,alias:u}),h.data={pub:t.pub},h.d()},d:function(){h.data.alias=u,h.e()},e:function(){h.data.epub=h.pair.epub,r.encrypt({priv:h.pair.priv,epriv:h.pair.epriv},h.proof,h.f,{raw:1})},f:function(t){h.data.auth=JSON.stringify({ek:t,s:h.salt}),h.g(h.data.auth)},g:function(t){var n;h.data.auth=h.data.auth||t,p.get(n="~"+h.pair.pub).put(h.data).on(h.h);var e={};e[n]={"#":n},p.get("~@"+u).put(e).get(n).on(h.i)},h:function(t,n,e,r){r.off(),h.h.ok=1,h.i()},i:function(t,n,r,o){o&&(h.i.ok=1,o.off()),h.h.ok&&h.i.ok&&(l.ing=!1,c({ok:0,pub:h.pair.pub}),i===c&&(e?s.auth(e):s.auth(u,a)))}};return p.get("~@"+u).once(h.a),s},e.prototype.leave=function(t,n){var e=this.back(-1)._.user;if(e&&(delete e.is,delete e._.is,delete e._.sea),r.window)try{var o={};delete(o=window.sessionStorage).recall,delete o.pair}catch(t){}return this}}))(n,"./create"),n((function(t){var e=n("./user"),r=e.SEA,o=e.GUN,i=function(){};function u(t){if("string"!=typeof t)return t;try{t=JSON.parse(t)}catch(n){t={}}return t}e.prototype.auth=function(...t){var n="object"==typeof t[0]&&(t[0].pub||t[0].epub)?t[0]:"object"==typeof t[1]&&(t[1].pub||t[1].epub)?t[1]:null,e=n||"string"!=typeof t[0]?null:t[0],a=e&&"string"==typeof t[1]?t[1]:null,c=t.filter((t=>"function"==typeof t))[0]||null,f=t&&t.length>1&&"object"==typeof t[t.length-1]?t[t.length-1]:{},s=this,l=s._,p=s.back(-1);if(l.ing)return(c||i)({err:o.log("User is already being created or authenticated!"),wait:!0}),s;l.ing=!0;var h,v={};return v.a=function(t){if(!t)return v.b();if(!t.pub){var n=[];return Object.keys(t).forEach((function(e){"_"!=e&&n.push(t[e])})),v.b(n)}if(v.name)return v.f(t);v.c((v.data=t).auth)},v.b=function(t){var n=(v.list=(v.list||[]).concat(t||[])).shift();if(h===n)return v.name?v.err("Your user account is not published for dApps to access, please consider syncing it online, or allowing local access by adding your device as a peer."):v.err("Wrong user or password.");p.get(n).once(v.a)},v.c=function(t){return h===t?v.b():"string"==typeof t?v.c(u(t)):void r.work(a,(v.auth=t).s,v.d,v.enc)},v.d=function(t){r.decrypt(v.auth.ek,t,v.e,v.enc)},v.e=function(t){if(h===t)return v.enc?(v.enc=null,v.b()):(v.enc={encode:"utf8"},v.c(v.auth));v.half=t,v.f(v.data)},v.f=function(t){var n=v.half||{},e=v.data||{};v.g(v.lol={pub:t.pub||e.pub,epub:t.epub||e.epub,priv:t.priv||n.priv,epriv:t.epriv||n.epriv})},v.g=function(t){if(!t||!t.pub||!t.epub)return v.b();v.pair=t;var n=p._.user,g=n._;g.tag;var d=g.opt;(g=n._=p.get("~"+t.pub)._).opt=d,n.is={pub:t.pub,epub:t.epub,alias:e||t.pub},g.sea=v.pair,l.ing=!1;try{a&&h==(u(l.root.graph["~"+t.pub].auth)||"")[":"]&&(f.shuffle=f.change=a)}catch(t){}if(f.change?v.z():(c||i)(g),r.window&&(s.back("user")._.opt||f).remember)try{var y={};(y=window.sessionStorage).recall=!0,y.pair=JSON.stringify(t)}catch(t){}try{p._.tag.auth?p._.on("auth",g):setTimeout((function(){p._.on("auth",g)}),1)}catch(t){o.log("Your 'auth' callback crashed with:",t)}},v.z=function(){v.salt=String.random(64),r.work(f.change,v.salt,v.y)},v.y=function(t){r.encrypt({priv:v.pair.priv,epriv:v.pair.epriv},t,v.x,{raw:1})},v.x=function(t){v.w(JSON.stringify({ek:t,s:v.salt}))},v.w=function(t){if(f.shuffle){console.log("migrate core account from UTF8 & shuffle");var n={};Object.keys(v.data).forEach((function(t){n[t]=v.data[t]})),delete n._,n.auth=t,p.get("~"+v.pair.pub).put(n)}p.get("~"+v.pair.pub).get("auth").put(t,c||i)},v.err=function(t){var n={err:o.log(t||"User cannot be found!")};l.ing=!1,(c||i)(n)},v.plugin=function(t){if(!(v.name=t))return v.err();var n=[t];"~"!==t[0]&&(n[1]="~"+t,n[2]="~@"+t),v.b(n)},n?v.g(n):e?p.get("~@"+e).once(v.a):e||a||r.name(v.plugin),s}}))(n,"./auth"),n((function(t){var e=n("./user"),r=e.SEA;e.GUN,e.prototype.recall=function(t,n){var e=this,o=e.back(-1);if((t=t||{})&&t.sessionStorage){if(r.window)try{var i;(i=window.sessionStorage)&&(o._.opt.remember=!0,(e.back("user")._.opt||t).remember=!0,(i.recall||i.pair)&&o.user().auth(JSON.parse(i.pair),n))}catch(t){}return e}return e}}))(n,"./recall"),n((function(t){var e=n("./user"),r=e.SEA,o=e.GUN,i=function(){};e.prototype.pair=function(){var t,n=this;try{t=new Proxy({DANGER:""},{get:function(t,e,r){if(n.is&&(n._||"").sea)return n._.sea[e]}})}catch(t){}return t},e.prototype.delete=async function(t,n,e){console.log("user.delete() IS DEPRECATED AND WILL BE MOVED TO A MODULE!!!");var r=this;r.back(-1);var u=r.back("user");try{u.auth(t,n,(function(t){(u.is||{}).pub;u.map().once((function(){this.put(null)})),u.leave(),(e||i)({ok:0})}))}catch(t){o.log("User.delete failed! Error:",t)}return r},e.prototype.alive=async function(){console.log("user.alive() IS DEPRECATED!!!");const t=this.back(-1);try{return await authRecall(t),t._.user._}catch(t){const n="No session!";throw o.log(n),{err:n}}},e.prototype.trust=async function(t){console.log("`.trust` API MAY BE DELETED OR CHANGED OR RENAMED, DO NOT USE!"),o.is(t)&&t.get("pub").get(((t,n)=>{console.log(t,n)})),t.get("trust").get(path).put(theirPubkey)},e.prototype.grant=function(t,n){console.log("`.grant` API MAY BE DELETED OR CHANGED OR RENAMED, DO NOT USE!");var e=this,o=e.back(-1).user(),i=o._.sea,u="";return e.back((function(t){t.is||(u+=t.get||"")})),async function(){var e,a=await o.get("grant").get(i.pub).get(u).then();(a=await r.decrypt(a,i))||(a=r.random(16).toString(),e=await r.encrypt(a,i),o.get("grant").get(i.pub).get(u).put(e));var c=t.get("pub").then(),f=t.get("epub").then();c=await c,f=await f;var s=await r.secret(f,i);e=await r.encrypt(a,s),o.get("grant").get(c).get(u).put(e,n)}(),e},e.prototype.secret=function(t,n){console.log("`.secret` API MAY BE DELETED OR CHANGED OR RENAMED, DO NOT USE!");var e=this,o=e.back(-1).user(),i=o.pair(),u="";return e.back((function(t){t.is||(u+=t.get||"")})),async function(){var a,c=await o.get("trust").get(i.pub).get(u).then();(c=await r.decrypt(c,i))||(c=r.random(16).toString(),a=await r.encrypt(c,i),o.get("trust").get(i.pub).get(u).put(a)),a=await r.encrypt(t,c),e.put(a,n)}(),e},t.exports=e}))(n,"./share"),n((function(t){var r,o=n("./sea"),i=n("./settings"),u=""+r!=typeof window?window.Gun||{on:function(){}}:n((""+r==typeof e?".":"")+"./gun",1);function a(t){var n,e=this,r=e.as,i=t.put,c=i["#"],f=i["."],s=i[":"],l=i[">"],p=t["#"];if(c&&f)if((t._||"").faith&&(r.opt||"").faith&&"function"==typeof t._)o.opt.pack(i,(function(n){o.verify(n,!1,(function(n){i["="]=o.opt.unpack(n),e.to.next(t)}))}));else{var h=function(n){r.on("in",{"@":p,err:t.err=n})};(t._||"").DBG&&((t._||"").DBG.c=+new Date),0<=c.indexOf("<?")&&(n=parseFloat(c.split("<?")[1]||""))&&l<u.state()-1e3*n?(n=t._)&&n.stun&&n.stun--:"~@"!==c?"~@"!==c.slice(0,2)?(n=o.opt.pub(c))?a.pub(e,t,s,f,c,r,h,r.user||"",n):0<=c.indexOf("#")?a.hash(e,t,s,f,c,r,h):a.any(e,t,s,f,c,r,h,r.user||""):a.pubs(e,t,s,f,c,r,h):a.alias(e,t,s,f,c,r,h)}}u.on("opt",(function(t){t.sea||(t.sea={own:{}},t.on("put",a,t)),this.to.next(t)})),a.hash=function(t,n,e,r,i,u,a){o.work(e,null,(function(e){if(e&&e===r.split("#").slice(-1)[0])return t.to.next(n);a("Data hash not same as hash!")}),{name:"SHA-256"})},a.alias=function(t,n,e,r,o,i,u){return e?"~@"+r===f(e)?t.to.next(n):void u("Alias not same!"):u("Data must exist!")},a.pubs=function(t,n,e,r,o,i,u){return e?r===f(e)?t.to.next(n):void u("Alias not same!"):u("Alias must exist!")},a.pub=async function(t,n,e,a,c,s,l,p,h){var v;const g=await i.parse(e)||{},d=(e,i,f)=>{if(e.m&&e.s&&i&&h)return o.verify(e,h,(e=>{if(r!==e&&r!==e.e&&n.put[">"]&&n.put[">"]>parseFloat(e.e))return l("Certificate expired.");if(r!==e&&e.c&&e.w&&(e.c===i||e.c.indexOf("*")>-1)){let n=c.indexOf("/")>-1?c.replace(c.substring(0,c.indexOf("/")+1),""):"";String.match=String.match||u.text.match;const r=Array.isArray(e.w)?e.w:"object"==typeof e.w||"string"==typeof e.w?[e.w]:[];for(const u of r)if(String.match(n,u["#"])&&String.match(a,u["."])||!u["."]&&String.match(n,u["#"])||!u["#"]&&String.match(a,u["."])||String.match(n?n+"/"+a:a,u["#"]||u)){if(u["+"]&&u["+"].indexOf("*")>-1&&n&&-1==n.indexOf(i)&&-1==a.indexOf(i))return l(`Path "${n}" or key "${a}" must contain string "${i}".`);if(e.wb&&("string"==typeof e.wb||(e.wb||{})["#"])){var o=t.as.root.$.back(-1);return"string"==typeof e.wb&&"~"!==e.wb.slice(0,1)&&(o=o.get("~"+h)),o.get(e.wb).get(i).once((t=>!t||1!==t&&!0!==t?f(e):l(`Certificant ${i} blocked.`)))}return f(e)}return l("Certificate verification fail.")}}))};if("pub"===a&&"~"+h===c)return e===h?t.to.next(n):l("Account not same!");(v=p.is)&&v.pub&&!g["*"]&&!g["+"]&&(h===v.pub||h!==v.pub&&((n._.msg||{}).opt||{}).cert)?o.opt.pack(n.put,(u=>{o.sign(u,p._.sea,(async function(u){if(r===u)return l(o.err||"Signature fail.");if(n.put[":"]={":":v=o.opt.unpack(u.m),"~":u.s},n.put["="]=v,h===p.is.pub)return(v=f(e))&&((s.sea.own[v]=s.sea.own[v]||{})[h]=1),void JSON.stringifyAsync(n.put[":"],(function(e,r){return e?l(e||"Stringify error."):(n.put[":"]=r,t.to.next(n))}));if(h!==p.is.pub&&((n._.msg||{}).opt||{}).cert){const e=await i.parse(n._.msg.opt.cert);e&&e.m&&e.s&&d(e,p.is.pub,(r=>{n.put[":"]["+"]=e,n.put[":"]["*"]=p.is.pub,JSON.stringifyAsync(n.put[":"],(function(e,r){return e?l(e||"Stringify error."):(n.put[":"]=r,t.to.next(n))}))}))}}),{raw:1})})):o.opt.pack(n.put,(e=>{o.verify(e,g["*"]||h,(function(e){var i;return e=o.opt.unpack(e),r===e?l("Unverified data."):((i=f(e))&&h===o.opt.pub(i)&&((s.sea.own[i]=s.sea.own[i]||{})[h]=1),g["+"]&&g["+"].m&&g["+"].s&&g["*"]?void d(g["+"],g["*"],(r=>(n.put["="]=e,t.to.next(n)))):(n.put["="]=e,t.to.next(n)))}))}))},a.any=function(t,n,e,r,o,i,u,a){if(i.opt.secure)return u("Soul missing public key at '"+r+"'.");i.on("secure",(function(n){if(this.off(),!i.opt.secure)return t.to.next(n);u("Data cannot be changed.")})).on.on("secure",n)};var c=u.valid,f=function(t,n){return"string"==typeof(n=c(t))&&n};(u.state||"").ify;var s=/[^\w_-]/;o.opt.pub=function(t){if(t&&(t=t.split("~"))&&(t=t[1])&&(t=t.split(s).slice(0,2))&&2==t.length&&"@"!==(t[0]||"")[0])return t=t.slice(0,2).join(".")},o.opt.stringy=function(t){},o.opt.pack=function(t,n,e,i,a){var c,f;if(o.opt.check(t))return n(t);t&&t["#"]&&t["."]&&t[">"]&&(c=t[":"],f=1),JSON.parseAsync(f?c:t,(function(o,c){var f=r!==(c||"")[":"]&&(c||"")["~"];n(f?{m:{"#":a||t["#"],".":e||t["."],":":(c||"")[":"],">":t[">"]||u.state.is(i,e)},s:f}:t)}))};var l=o.opt;o.opt.unpack=function(t,n,e){var i;if(r!==t){if(t&&r!==(i=t[":"]))return i;if(n=n||l.fall_key,!e&&l.fall_val&&((e={})[n]=l.fall_val),n&&e){if(t===e[n])return t;if(!o.opt.check(e[n]))return t;var a=e&&e._&&e._["#"]||l.fall_soul,c=u.state.is(e,n)||l.fall_state;return t&&4===t.length&&a===t[0]&&n===t[1]&&p(c)===p(t[3])?t[2]:c<o.opt.shuffle_attack?t:void 0}}},o.opt.shuffle_attack=15463296e5;var p=Math.floor}))(n,"./index")}()}));return new class extends J{constructor(t){super(),W(this,t,gt,vt,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
